<div class="content-general">
   <div class="card card-shadow">
      <div class="card-header text-white bg-secondary">
         <strong>Listado de Alumnos</strong>  
      </div>
      <div class="card-body">
         <div class="row">
            <div class="col-7">
               <div class="form-group">
                  <input [(ngModel)]="searchText" type="text" class="form-control" placeholder="Buscar Alumno...">
               </div>
            </div>
            <div class="col-2">
               <div class="form-group">
                  <select [(ngModel)]="searchStatus" class="form-control">
                     <option value=''>Todos los estatus</option>
                     <option value=' '>No Registrado</option>
                     <option value='Registrado'>Registrado</option>
                     <option value='Pagado'>Pagado</option>
                     <option value='Asistió'>Asistió</option>
                     <option value='Mencionado'>Mencionado</option>
                  </select>
               </div>
            </div>
            <div class="col-3">
               <div class="form-group">
                  <select [(ngModel)]="searchCarreer" class="form-control">
                     <option value=''>Todas las carreras</option>
                     <option value='IBQ'>Ingeniería Bioquímica</option>
                     <option value='IGE'>Ingeniería en Gestión Empresarial</option>
                     <option value='IC'>Ingeniería Civil</option>
                     <option value='ARQ'>Arquitectura</option>
                     <option value='IQ'>Ingeniería Química</option>
                     <option value='IM'>Ingeniería Mecatrónica</option>
                     <option value='IE'>Ingeniería Eléctrica</option>
                     <option value='LA'>Licenciatura en Administración</option>
                     <option value='ITIC'>Ingeniería en Tecnologías de la Información y Comunicación</option>
                     <option value='ISC'>Ingeniaría en Sistemas Computacionales</option>
                     <option value='II'>Ingeniaría Industrial</option>
                     <option value='MCA'>Maestría en Ciencias en Alimentos</option>
                  </select>
               </div>
            </div>
         </div>
         <table class="table table-striped table-bordered table-hover">
               <thead>
                  <tr>
                     <th>Número de Control</th>
                     <th>Nombre del Alumno</th>
                     <th>Carrera</th>
                     <th>Email</th>
                     <th>Estatus</th>
                     <th>Acciones</th>
                  </tr>          
               </thead>
               <tbody>
                  <tr *ngFor="let item of alumnos | filter:{carreer:searchCarreer} | filter:{status:searchStatus} | filter: {nc:searchText,name:searchText,email:searchText} | paginate: {id:pag, itemsPerPage: pageSize,
                  currentPage: page }; ">                    
                     <td>{{item.nc}} </td>
                     <td>{{item.name}}</td>
                     <td>{{item.carreer}}</td>
                     <td>{{item.email}}</td>
                     <td>{{item.status}}</td>
                     <td>
                        <div class="div-actions">
                           <tr *ngIf="item.email && status===1">
                              <td *ngIf="item.status == 'Registrado'">
                                 <div class="div-img" ngbTooltip="Confirmar Pago" tooltipClass="my-custom-class" *ngIf="item.email">
                                       <img src="../../assets/icons/paid.svg" class="paid" (click)="confirmPaidEvent(item)">
                                 </div>
                              </td>
                              <td *ngIf="item.status == 'Pagado'">
                                 <div class="div-img" ngbTooltip="Enviar Invitación" tooltipClass="my-custom-class" >
                                       <img src="../../assets/icons/sendEmail.svg" class="sendEmail" (click)="sendOneMail(item)">
                                 </div>
                              </td>                              
                           </tr>
                        </div>
                     </td>
                  </tr>
               </tbody>
               <tfoot align="right">
                  <td colspan="6">
                        <button type="button" class="btn btn-primary" (click)="sendMailAll()" >Enviar a todos</button>
                  </td>
               </tfoot>
            </table> 
            <div class='div-pagination'>
                  <pagination-controls [id]="pag"
                     directionLinks="true"
                     (pageChange)="pageChanged($event)"
                      responsive="true"
                      previousLabel="Anterior"
                      nextLabel="Siguiente"
                   ></pagination-controls>
            </div>   
            
      </div>
   </div>
   
</div>