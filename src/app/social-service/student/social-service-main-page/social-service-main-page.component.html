<div *ngIf="loaded">
  <div *ngIf="!releaseSocialService">
    <div *ngIf="!permission" class="d-flex justify-content-center">
      <mat-card class="w-75 m-2">
        <mat-card-content class="d-flex flex-column align-items-center justify-content-center">
        <img alt="File" src="../../../../assets/imgs/sweetInfoIcon.png" style="width: 100px; height: 100px;">
        <h5 class="text-center mt-3 noAccepted">Lo sentimos, todavía no cumples con los requisitos para realizar tu servicio social</h5>
          <div class="w-50 mt-3">
            <h5 class="messageVerify font-weight-bold">Requisitos:</h5>
            <div class="w-100 mx-auto">
              <ol class="listVerify">
                <li>Cumplir con el 65% de tu avance reticular <mat-icon class="text-success">check</mat-icon></li>
                <li>Ser un estudiante con estatus Activo <mat-icon class="text-success">check</mat-icon></li>
              </ol>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
    <div *ngIf="permission">
      <mat-vertical-stepper [linear]="true" #stepper [selectedIndex]="stepWizard">
        <mat-step [completed]="assistance">
          <ng-template matStepLabel>
            Asistencia
            <button *ngIf="assistance" mat-fab class="record" color="primary" matTooltip="Expediente" routerLink="/social-service/recordStudent" [queryParams]="{id: controlStudentId}">
              <mat-icon class="material-icons">folder_shared</mat-icon>
            </button>
            <button mat-fab matTooltip="Información de contacto con la institución" class="askInformation" type="button" (click)="showHelpInformation()">
              <i class="fa fa-question" aria-hidden="true"></i>
            </button>
          </ng-template>
          <div *ngIf="assistance">
            <h5 class="text-center">Ya tienes tu asistencia registrada</h5>
            <div class="d-flex justify-content-center">
              <button mat-raised-button matStepperNext color="primary" style="width: 25%;" (click)="updateStepWizard(1)">Continuar</button>
            </div>
          </div>
          <div *ngIf="!assistance">
            <h5>Todavía no tienes tu asistencia registrada</h5>
            <p>Si quieres iniciar con tu proceso de servicio social necesitaras descargar y leer la guía, finalmente responder al formulario a continuación y esperar tu asistencia</p>
            <mat-horizontal-stepper [linear]="true">
              <mat-step [completed]="assistanceFirstStep">
                <ng-template matStepLabel>Guía de Servicio Social</ng-template>
                <div class="row justify-content-center">
                  <div class="col-12 my-2">
                    <h4>Descargar: <button mat-button color="primary" style="font-size: 24px;" (click)="downloadSocialServiceGuide()">Guía de servicio social</button></h4>                   
                  </div>
                  <div class="col-6">
                    <button mat-raised-button matStepperNext color="primary" [disabled]="!assistanceFirstStep" style="width: 100%;">Continuar</button>
                  </div>
                </div>
              </mat-step>
              <mat-step [completed]="assistanceSecondStep" label="Fill out your address">
                <ng-template matStepLabel>Formulario de Servicio Social</ng-template>
                <div class="row justify-content-center">
                  <div class="col-12 my-2">
                    <h4>Formulario: <a href="https://docs.google.com/forms/d/e/1FAIpQLScFY8DJg2F0IpGy5UXt0cLprqy5BDkqsEqRTzluiHHHkAxvow/viewform" target="_blank" (click)="assistanceSecondStep = true">Asistencia para el servicio social</a></h4>
                  </div>
                  <div class="col-6">
                    <button mat-raised-button matStepperNext [disabled]="!assistanceSecondStep" color="primary" style="width: 100%;">Continuar</button>
                  </div>
                </div>
              </mat-step>
              <mat-step>
                <ng-template matStepLabel>Resultado</ng-template>
                <h6 class="text-center">Has finalizado el proceso para contar con tu asistencia de Servicio Social, <strong>espera un máximo de tres días</strong> para obtener tu asistencia, de no ser así,
                  vuelve a estudiar la guía, contesta correctamente todo el formulario y
                  <strong>espera de nuevo los resultados para contar con tu asistencia </strong>
                  y puedas iniciar con tu trámite para tu Servicio Social.</h6>
                <div class="d-flex justify-content-center" *ngIf="assistanceFirstStep && assistanceSecondStep">
                </div>
              </mat-step>
            </mat-horizontal-stepper>
          </div>
        </mat-step>

        <mat-step [completed]="solicitudeDocument">
          <ng-template matStepLabel>Solicitud para Servicio social</ng-template>
          <app-social-service-init-form *ngIf="statusFirstDocuments === 'register'"
                                        [controlStudentId]="controlStudentId"
                                        [sendEmailCode]="sendEmailCode"
                                        [verificationEmail]="verificationEmail"
                                        [folderId]="folderId"
                                        (sendInformation)="changeStatusSendInformation()"
                                        [email]="emailStudent"
                                        [controlNumber]="userData.email"></app-social-service-init-form>
          <div *ngIf="statusFirstDocuments === 'send'">
            <div class="row justify-content-center">
              <div class="col-10 col-sm-8 col-md-6 col-lg-4">
                <mat-card style="height: 240px; width: 300px;">
                  <mat-card-header class="flex-column align-items-center">
                    <img alt="File" src="../../../../assets/imgs/reloj.png" style="width: 80px; height: 80px;">
                    <h5 class="text-center mt-3">Su <strong>información</strong> está siendo <strong class="text-info">validada </strong></h5>
                    <small class="text-center mt-3">Su respuesta de Solicitud de Servicio Social estará en un máximo de <strong class="text-info">tres días</strong></small>
                  </mat-card-header>
                </mat-card>
              </div>
            </div>
          </div>
          <app-social-service-review-init-form *ngIf="statusFirstDocuments === 'reevaluate'"
                                               [controlStudentId]="controlStudentId"
                                               [folderId]="folderId"
                                               (sendInformation)="changeStatusSendInformation()"
                                               [controlNumber]="userData.email">

          </app-social-service-review-init-form>
          <div *ngIf="statusFirstDocuments === 'approved'">
            <div class="row justify-content-center">
              <div class="col-10 col-sm-8 col-md-6 col-lg-4">
                <mat-card style="height: 225px; width: 300px;">
                  <mat-card-header class="flex-column align-items-center">
                    <img alt="File" src="../../../../assets/imgs/approved.png" style="width: 80px; height: 80px;">
                    <h5 class="text-center mt-3">Su <strong>solicitud</strong> ha sido <strong class="text-success">aceptada </strong></h5>
                    <button mat-raised-button type="button" (click)="downloadSolicitude()">
                      Descargar solicitud
                      <mat-icon matPrefix class="text-info">cloud_download</mat-icon>
                    </button>
                  </mat-card-header>
                </mat-card>
              </div>
              <div class="col-12 mt-4 text-center">
                <button mat-raised-button matStepperNext color="primary" style="width: 20%;" (click)="updateStepWizard(2)">Continuar</button>
              </div>
            </div>
          </div>
        </mat-step>

        <mat-step [completed]="solicitudeStep"><!--presentationDocument-->
          <ng-template matStepLabel>Documentos de presentación</ng-template>
          <div *ngIf="statusFirstDocuments === 'approved'">
            <div *ngIf="['noAssigned','assigned'].includes(presentation)">
              <div class="row justify-content-center">
                <div class="col-10 col-sm-8 col-md-6 col-lg-4">
                  <mat-card style="height: 250px; width: 300px;">
                    <mat-card-header class="flex-column align-items-center">
                      <img alt="File" src="../../../../assets/imgs/reloj.png" style="width: 80px; height: 80px;">
                      <h5 class="text-center mt-3">Su <strong>Carta de presentación</strong> está en <strong class="text-info">trámite</strong></h5>
                      <small class="text-center mt-3">Su respuesta de Carta de presentación estará en un máximo de <strong class="text-info">tres días</strong></small>
                    </mat-card-header>
                  </mat-card>
                </div>
              </div>
            </div>
            <div *ngIf="presentation === 'sign' && !presentationDownloaded">
              <br>
              <div class="row justify-content-center">
                <div class="col-10 col-sm-8 col-md-6 col-lg-4">
                  <mat-card style="height: 225px; width: 300px;">
                    <mat-card-header class="flex-column align-items-center">
                      <img alt="File" src="../../../../assets/imgs/approved.png" style="width: 80px; height: 80px;">
                      <h5 class="text-center mt-3">Su <strong>Carta de presentación</strong> esta <strong class="text-success">lista </strong></h5>
                      <button mat-raised-button type="button" (click)="downloadPresentation()">
                        Descargar Carta
                        <mat-icon matPrefix class="text-info">cloud_download</mat-icon>
                      </button>
                    </mat-card-header>
                  </mat-card>
                </div>
              </div>
            </div>
            <div *ngIf="presentationDownloaded && !savedSchedule" class="text-center">
              <br>
              <h6 class="mt-3"><strong>Llene su horario</strong></h6>
              <br>
              <form [formGroup]="formSchedule" (ngSubmit)="registerSchedule()">
                <div class="justify-content-center" style="overflow-x:auto;">
                  <table>
                    <tr>
                      <th>Dia</th>
                      <th></th>
                      <th>Lunes</th>
                      <th>Martes</th>
                      <th>Miercoles</th>
                      <th>Jueves</th>
                      <th>Viernes</th>
                      <th>Sabado</th>
                      <th>Domingo</th>
                      <th>Total</th>
                      <th><mat-icon matTooltip="Debe cumplir con 21 horas por semana" class="text-info">info</mat-icon></th>
                    </tr>
                    <tr>
                      <td>
                        <span style=" float: left">Hora</span>
                      </td>
                      <td>
                        <mat-icon style=" float: right" matTooltip="Indicar horario en el formato  hh:mm-hh:mm en un rango de 07:00-20:00 en formato de 24 hrs" class="text-info">info</mat-icon>
                      </td>
                      <td>
                        <mat-form-field appearance="fill" class="field-day">
                          <input matInput formControlName="monday" placeholder="12:00-14:00" on-focusout="sumHours()">
                        </mat-form-field>
                      </td>
                      <td>
                        <mat-form-field appearance="fill" class="field-day">
                          <input matInput formControlName="tuesday" placeholder="12:00-14:00" on-focusout="sumHours()">
                        </mat-form-field>
                      </td>
                      <td>
                        <mat-form-field appearance="fill" class="field-day">
                          <input matInput formControlName="wednesday" placeholder="12:00-14:00" on-focusout="sumHours()">
                        </mat-form-field>
                      </td>
                      <td>
                        <mat-form-field appearance="fill" class="field-day">
                          <input matInput formControlName="thursday" placeholder="12:00-14:00" on-focusout="sumHours()">
                        </mat-form-field>
                      </td>
                      <td>
                        <mat-form-field appearance="fill" class="field-day">
                          <input matInput formControlName="friday" placeholder="12:00-14:00" on-focusout="sumHours()">
                        </mat-form-field>
                      </td>
                      <td>
                        <mat-form-field appearance="fill" class="field-day">
                          <input matInput formControlName="saturday" placeholder="12:00-14:00" on-focusout="sumHours()">
                        </mat-form-field>
                      </td>
                      <td>
                        <mat-form-field appearance="fill" class="field-day">
                          <input matInput formControlName="sunday" placeholder="12:00-14:00" on-focusout="sumHours()">
                        </mat-form-field>
                      </td>
                      <td>
                        <span>{{total}}</span>
                      </td>
                      <td></td>
                    </tr>
                  </table>
                </div>
                <br>

                <h4>¿En que mes iniciará su servicio social?</h4>
                <div class="row">
                    <mat-form-field appearance="fill">
                      <mat-label>Seleccione un mes</mat-label>
                      <select matNativeControl formControlName="initialMonth">
                        <option value="0">Enero</option>
                        <option value="1">Febrero</option>
                        <option value="2">Marzo</option>
                        <option value="3">Abril</option>
                        <option value="4">Mayo</option>
                        <option value="5">Junio</option>
                        <option value="6">Julio</option>
                        <option value="7">Agosto</option>
                        <option value="8">Septiembre</option>
                        <option value="9">Octubre</option>
                        <option value="10">Noviembre</option>
                        <option value="11">Diciembre</option>
                      </select>
                    </mat-form-field>
                </div>
                <br>
                <div class="row justify-content-center">
                  <div class="col-3">
                    <button mat-raised-button type="submit" [disabled]="!verificationSchedule" color="primary" style="width:100%">Guardar plan de trabajo</button>
                  </div>
                </div>
              </form>
            </div>
            <div *ngIf="presentationDownloaded && savedSchedule && !workPlanProjectDownloaded" class="text-center">
              <div class="row justify-content-center">
                <div class="col-10 col-sm-8 col-md-6 col-lg-4">
                  <mat-card style="height: 225px; width: 300px;">
                    <mat-card-header class="flex-column align-items-center">
                      <img alt="File" src="../../../../assets/imgs/approved.png" style="width: 80px; height: 80px;">
                      <h5 class="text-center mt-3"><strong>Carta de asignación - Plan de trabajo</strong></h5>
                      <button mat-raised-button type="button" (click)="downloadAsignation()">
                        Descargar Carta de Asignación
                        <mat-icon matPrefix class="text-info">cloud_download</mat-icon>
                      </button>
                    </mat-card-header>
                  </mat-card>
                </div>
              </div>
            </div>
            <div *ngIf="presentationDownloaded && savedSchedule && workPlanProjectDownloaded && (validateSolicitudePhase() === 'register' || validateSolicitudePhase() === 'reevaluate')" class="text-center">
              <div class="flex justify-content-around">
                <button mat-button type="button" class="mt-2" (click)="downloadPresentation()">
                  Descargar Carta de Presentación
                  <mat-icon matPrefix class="text-info">cloud_download</mat-icon>
                </button>
                <button mat-button type="button" class="mt-2" (click)="downloadAsignation()">
                  Descargar Carta de Asignación/Plan de trabajo
                  <mat-icon matPrefix class="text-info">cloud_download</mat-icon>
                </button>
              </div>
              <div class="row margen">
                <div class="col-3">
                  <mat-card class="my-2 solicitude-document">
                    <mat-card-content class="d-flex flex-column justify-content-center align-items-center">
                      <h6 class="text-center">Carta de presentación</h6>
                      <label for="presentation" style="cursor: pointer; flex: 1 2;" class="d-flex flex-column align-items-center justify-content-center">
                        <img src="../../../../assets/icons/pdfReport.svg" style="width: 40%; cursor: pointer;">
                        <div [ngSwitch]="presentation">
                          <div *ngSwitchCase="'upload'">
                            <span mat-line class="badge badge-pill badge-success">CARGADO</span>
                          </div>
                          <div *ngSwitchCase="'send'">
                            <span mat-line class="badge badge-pill badge-info">EVALUACIÓN</span>
                          </div>
                          <div *ngSwitchCase="'reevaluate'">
                            <span mat-line class="badge badge-pill badge-warn">REVALUACIÓN</span>
                          </div>
                          <div *ngSwitchCase="'approved'">
                            <span mat-line class="badge badge-pill badge-success">APROBADO</span>
                          </div>
                          <div *ngSwitchDefault>
                            <span mat-line class="badge badge-pill badge-warning">POR ENVIAR</span>
                          </div>
                        </div>
                      </label>
                      <small>*Subir carta de presentación firmada por la dependencia</small>
                      <p *ngIf="['reevaluate', 'upload'].includes(presentation)" style="font-size: 0.6em;">Para editar el documento, vuelva a seleccionar otro documento</p>
                      <div class="text-center" *ngIf="presentation === 'reevaluate'">
                        <button mat-icon-button matSuffix
                                matTooltipClass="bg-danger"
                                [matTooltip]="filesStatus['presentation'].message"
                                matTooltipPosition="above"
                                [attr.aria-label]="'show information'"
                                style="margin-left: auto;"
                                type="button">
                          <mat-icon class="text-danger">info</mat-icon>
                        </button>
                      </div>
                      <input type="file" id="presentation" (change)="onFileChange($event)"
                             hidden="hidden" accept="application/pdf" [disabled]="disabledUploadFile('presentation')">
                    </mat-card-content>
                  </mat-card>
                </div>
                <div class="col-3">
                  <mat-card class="my-2 solicitude-document">
                    <mat-card-content class="d-flex flex-column justify-content-center align-items-center">
                      <h6 class="text-center">Carta de <br>aceptación</h6>
                      <label for="acceptance" style="cursor: pointer; flex: 1 2;" class="d-flex flex-column align-items-center justify-content-center">
                        <img src="../../../../assets/icons/pdfReport.svg" style="width: 40%; cursor: pointer;">
                        <div [ngSwitch]="acceptance">
                          <div *ngSwitchCase="'upload'">
                            <span mat-line class="badge badge-pill badge-success">CARGADO</span>
                          </div>
                          <div *ngSwitchCase="'send'">
                            <span mat-line class="badge badge-pill badge-info">EVALUACIÓN</span>
                          </div>
                          <div *ngSwitchCase="'reevaluate'">
                            <span mat-line class="badge badge-pill badge-warn">REVALUACIÓN</span>
                          </div>
                          <div *ngSwitchCase="'approved'">
                            <span mat-line class="badge badge-pill badge-success">APROBADO</span>
                          </div>
                          <div *ngSwitchDefault>
                            <span mat-line class="badge badge-pill badge-warning">POR ENVIAR</span>
                          </div>
                        </div>
                      </label>
                      <p *ngIf="['reevaluate', 'upload'].includes(acceptance)" style="font-size: 0.6em;">Para editar el documento, vuelva a seleccionar otro documento</p>
                      <div class="text-center"  *ngIf="acceptance === 'reevaluate'">
                        <button mat-icon-button matSuffix
                                matTooltipClass="bg-danger"
                                [matTooltip]="filesStatus['acceptance'].message"
                                matTooltipPosition="above"
                                [attr.aria-label]="'show information'"
                                style="margin-left: auto;"
                                type="button">
                          <mat-icon class="text-danger">info</mat-icon>
                        </button>
                      </div>
                      <input type="file" id="acceptance" (change)="onFileChange($event)"
                             hidden="hidden" accept="application/pdf" [disabled]="disabledUploadFile('acceptance')">
                    </mat-card-content>
                  </mat-card>
                </div>
                <div class="col-3">
                  <mat-card class="my-2 solicitude-document">
                    <mat-card-content class="d-flex flex-column justify-content-center align-items-center">
                      <h6 class="text-center">Carta de asignación - Plan de trabajo</h6>
                      <label for="workProject" style="cursor: pointer; flex: 1 2;" class="d-flex flex-column align-items-center justify-content-center">
                        <img src="../../../../assets/icons/pdfReport.svg" style="width: 40%; cursor: pointer;">
                        <div [ngSwitch]="workPlanProject">
                          <div *ngSwitchCase="'upload'">
                            <span mat-line class="badge badge-pill badge-success">CARGADO</span>
                          </div>
                          <div *ngSwitchCase="'send'">
                            <span mat-line class="badge badge-pill badge-info">EVALUACIÓN</span>
                          </div>
                          <div *ngSwitchCase="'reevaluate'">
                            <span mat-line class="badge badge-pill badge-warn">REVALUACIÓN</span>
                          </div>
                          <div *ngSwitchCase="'approved'">
                            <span mat-line class="badge badge-pill badge-success">APROBADO</span>
                          </div>
                          <div *ngSwitchDefault>
                            <span mat-line class="badge badge-pill badge-warning">POR ENVIAR</span>
                          </div>
                        </div>
                      </label>
                      <small>*Subir carta de asignación firmada por el/la encargado/encargada del programa de la dependencia</small>
                      <p *ngIf="['reevaluate', 'upload'].includes(workPlanProject)" style="font-size: 0.6em;">Para editar el documento, vuelva a seleccionar otro documento</p>
                      <div class="text-center"  *ngIf="workPlanProject === 'reevaluate'">
                        <button mat-icon-button matSuffix
                                matTooltipClass="bg-danger"
                                [matTooltip]="filesStatus['workPlanProject'].message"
                                matTooltipPosition="above"
                                [attr.aria-label]="'show information'"
                                style="margin-left: auto;"
                                type="button">
                          <mat-icon class="text-danger">info</mat-icon>
                        </button>
                      </div>
                      <input type="file" id="workProject" (change)="onFileChange($event)"
                             hidden="hidden" accept="application/pdf" [disabled]="disabledUploadFile('workPlanProject')">
                    </mat-card-content>
                  </mat-card>
                </div>
                <div class="col-3">
                  <mat-card class="my-2 solicitude-document">
                    <mat-card-content class="d-flex flex-column justify-content-center align-items-center">
                      <h6 class="text-center">Carta <br>compromiso</h6>
                      <label for="commitment" style="cursor: pointer; flex: 1 2;" class="d-flex flex-column align-items-center justify-content-center">
                        <img src="../../../../assets/icons/pdfReport.svg" style="width: 40%; cursor: pointer;">
                        <div [ngSwitch]="commitment">
                          <div *ngSwitchCase="'upload'">
                            <span mat-line class="badge badge-pill badge-success">CARGADO</span>
                          </div>
                          <div *ngSwitchCase="'send'">
                            <span mat-line class="badge badge-pill badge-info">EVALUACIÓN</span>
                          </div>
                          <div *ngSwitchCase="'reevaluate'">
                            <span mat-line class="badge badge-pill badge-warn">REVALUACIÓN</span>
                          </div>
                          <div *ngSwitchCase="'approved'">
                            <span mat-line class="badge badge-pill badge-success">APROBADO</span>
                          </div>
                          <div *ngSwitchDefault>
                            <span mat-line class="badge badge-pill badge-warning">GENERAR CARTA</span>
                          </div>
                        </div>
                      </label>
                      <p *ngIf="['reevaluate', 'upload'].includes(commitment)" style="font-size: 0.6em;">Para editar el documento, vuelva a seleccionar otro documento</p>
                      <div class="text-center"  *ngIf="commitment === 'reevaluate'">
                        <button mat-icon-button matSuffix
                                matTooltipClass="bg-danger"
                                [matTooltip]="filesStatus['commitment'].message"
                                matTooltipPosition="above"
                                [attr.aria-label]="'show information'"
                                style="margin-left: auto;"
                                type="button">
                          <mat-icon class="text-danger">info</mat-icon>
                        </button>
                      </div>
                      <input type="button" id="commitment" (click)="generateCommitment()"
                             hidden="hidden" accept="application/pdf" [disabled]="disabledUploadFile('commitment')">
                    </mat-card-content>
                  </mat-card>
                </div>
              </div>

              <div class="text-center">
                <button mat-raised-button color="primary" class="w-50" (click)="uploadFiles()" [disabled]="validateUploadFiles()">Enviar información</button>
              </div>
            </div>

            <div *ngIf="validateSolicitudePhase() === 'send'">
              <div class="row justify-content-center">
                <div class="col-10 col-sm-8 col-md-6 col-lg-4">
                  <mat-card style="height: 225px; width: 300px;">
                    <mat-card-header class="flex-column align-items-center">
                      <img alt="File" src="../../../../assets/imgs/reloj.png" style="width: 80px; height: 80px;">
                      <h5 class="text-center mt-3">Sus documentos de presentacion estan en <strong>revisión</strong></h5>
                    </mat-card-header>
                  </mat-card>
                </div>
              </div>
            </div>

            <div *ngIf="validateSolicitudePhase() === 'approved'">
              <div class="row justify-content-center">
                <div class="col-10 col-sm-8 col-md-6 col-lg-4">
                  <mat-card style="height: 225px; width: 300px;">
                    <mat-card-header class="flex-column align-items-center">
                      <img alt="File" src="../../../../assets/imgs/approved.png" style="width: 80px; height: 80px;">
                      <h5 class="text-center mt-3">Sus documentos de presentacion han sido <span class="text-success">aceptados</span></h5>
                    </mat-card-header>
                  </mat-card>
                </div>
              </div>
              <div class="col-12 mt-4" style="text-align: center;">
                <button mat-raised-button matStepperNext color="primary" style="width: 15%;" (click)="updateStepWizard(3)">Continuar</button>
              </div>
            </div>
          </div>
        </mat-step>
        <!--permitir pasar a reportes cuando carta de presentacion, aceptacion, asignacion y compomiso esten aceptadas-->
        <mat-step [completed]="reportsStep"><!--Reportes-->
          <ng-template matStepLabel>Reportes</ng-template>

          <div class="row" *ngIf="!bimestralReport || bimestralReport && finalReport">
            <mat-icon class="text-info">info</mat-icon>
            <h6>Revisa tus documentos hasta que sean validados</h6>
          </div>

          <div *ngIf="!bimestralReport"><!--reportes bimestrales-->
            <div class="text-center margen">
              <div class="flex justify-content-around">

                <mat-icon matTooltip="Cambiar la numeración al reporte correspondiente" class="text-info">info</mat-icon>

                <button mat-raised-button type="button" class="mt-2 buttonMargin">
                  <a class="noDecorado" href="http://www.tepic.tecnm.mx/sgc2/files/Procesos_Centrales/Servicio_Social/Registros%20SS/ITT-POC-08-06%20REPORTE%20BIMESTRAL%20DE%20SERVICIO%20SOCIAL.docx">
                    Formato de Reporte Bimestral
                  </a>
                  <mat-icon matPrefix class="text-info">cloud_download</mat-icon>
                </button>

                <button mat-raised-button type="button" class="mt-2 buttonMargin">
                  <a class="noDecorado" href="http://www.tepic.tecnm.mx/sgc2/files/Procesos_Centrales/Servicio_Social/Registros%20SS/ITT-POC-08-09%20EVALUACI%C3%93N%20RESPONSABLE%20DEL%20PROGRAMA.docx">
                    Formato de Evaluación Responsable del Programa
                  </a>
                  <mat-icon matPrefix class="text-info">cloud_download</mat-icon>
                </button>

              </div>
            </div>
            <!-- -->

            <!--Cards de reportes-->
            <div *ngFor="let report of reports">
              <div class="row margen d-flex justify-content-center">
                <!--Reporte bimestral-->
                <div class="col-3" >
                  <mat-card class="my-2 solicitude-document">
                      <mat-card-content class="d-flex flex-column justify-content-center align-items-center">
                        <h6 class="text-center">Reporte Bimestral No. {{report.position}}</h6>
                        <label for=report{{report.position}} style="cursor: pointer; flex: 1 2;" class="d-flex flex-column align-items-center justify-content-center">
                          <img src="../../../../assets/icons/pdfReport.svg" style="width: 40%; cursor: pointer;">
                            <div [ngSwitch]="reports[report.position -1].status">
                              <div *ngSwitchCase="'upload'">
                                <span mat-line class="badge badge-pill badge-success">CARGADO</span>
                              </div>
                              <div *ngSwitchCase="'send'">
                                <span mat-line class="badge badge-pill badge-info">EVALUACIÓN</span>
                              </div>
                              <div *ngSwitchCase="'reevaluate'">
                                <span mat-line class="badge badge-pill badge-warn">REVALUACIÓN</span>
                              </div>
                              <div *ngSwitchCase="'approved'">
                                <span mat-line class="badge badge-pill badge-success">APROBADO</span>
                              </div>
                              <div *ngSwitchCase="'register'">
                                <div *ngIf="!disabledUploadReport(report.position, report.status)">
                                  <span mat-line class="badge badge-pill badge-warning">POR ENVIAR</span>
                                </div>
                                <div *ngIf="disabledUploadReport(report.position, report.status)">
                                  <span mat-line class="badge badge-pill badge-secondary">NO DISPONIBLE</span>
                                </div>
                              </div>
                            </div>
                        </label>
                        <p *ngIf="['reevaluate', 'upload'].includes(reports[report.position -1].status)" style="font-size: 0.6em;">Para editar el documento, vuelva a seleccionar otro documento</p>
                          <div class="text-center"  *ngIf="reports[report.position -1].status === 'reevaluate'">
                            <button mat-icon-button matSuffix
                                    matTooltipClass="bg-danger"
                                    [matTooltip]="filesStatus.reports[report.position - 1].message"
                                    matTooltipPosition="above"
                                    [attr.aria-label]="'show information'"
                                    style="margin-left: auto;"
                                    type="button">
                              <mat-icon class="text-danger">info</mat-icon>
                            </button>
                          </div>
                          <input type="file" id=report{{report.position}} (change)="uploadReport($event)"
                                hidden="hidden" accept="application/pdf" [disabled]="disabledUploadReport(report.position, report.status)">
                      </mat-card-content>
                  </mat-card>
                </div>
                <!--Formato de evaluacion-->
                <div class="col-3" >
                  <mat-card class="my-2 solicitude-document">
                      <mat-card-content class="d-flex flex-column justify-content-center align-items-center">
                        <h6 class="text-center">Formato de evaluación por la dependencia No. {{report.position}}</h6>
                        <label for=managerEvaluations{{report.position}} style="cursor: pointer; flex: 1 2;" class="d-flex flex-column align-items-center justify-content-center">
                          <img src="../../../../assets/icons/pdfReport.svg" style="width: 40%; cursor: pointer;">
                            <div [ngSwitch]="managerEvaluations[report.position -1].status">
                              <div *ngSwitchCase="'upload'">
                                <span mat-line class="badge badge-pill badge-success">CARGADO</span>
                              </div>
                              <div *ngSwitchCase="'send'">
                                <span mat-line class="badge badge-pill badge-info">EVALUACIÓN</span>
                              </div>
                              <div *ngSwitchCase="'reevaluate'">
                                <span mat-line class="badge badge-pill badge-warn">REVALUACIÓN</span>
                              </div>
                              <div *ngSwitchCase="'approved'">
                                <span mat-line class="badge badge-pill badge-success">APROBADO</span>
                              </div>
                              <div *ngSwitchCase="'register'">
                                <div *ngIf="!disabledUploadReport(report.position, managerEvaluations[report.position -1].status)">
                                  <span mat-line class="badge badge-pill badge-warning">POR ENVIAR</span>
                                </div>
                                <div *ngIf="disabledUploadReport(report.position, managerEvaluations[report.position -1].status)">
                                  <span mat-line class="badge badge-pill badge-secondary">NO DISPONIBLE</span>
                                </div>
                              </div>
                            </div>
                        </label>
                        <p *ngIf="['reevaluate', 'upload'].includes(managerEvaluations[report.position -1].status)" style="font-size: 0.6em;">Para editar el documento, vuelva a seleccionar otro documento</p>
                          <div class="text-center"  *ngIf="managerEvaluations[report.position -1].status === 'reevaluate'">
                            <button mat-icon-button matSuffix
                                    matTooltipClass="bg-danger"
                                    [matTooltip]="filesStatus.managerEvaluations[report.position - 1].message"
                                    matTooltipPosition="above"
                                    [attr.aria-label]="'show information'"
                                    style="margin-left: auto;"
                                    type="button">
                              <mat-icon class="text-danger">info</mat-icon>
                            </button>
                          </div>
                          <input type="file" id=managerEvaluations{{report.position}} (change)="uploadManagerEvaluation($event,report.position)"
                                hidden="hidden" accept="application/pdf" [disabled]="disabledUploadReport(report.position, managerEvaluations[report.position -1].status)">
                      </mat-card-content>
                  </mat-card>
                </div>
                <!--Formato de autoevaluacion-->
                <div class="col-3" >
                  <mat-card class="my-2 solicitude-document">
                      <mat-card-content class="d-flex flex-column justify-content-center align-items-center">
                        <h6 class="text-center">Formato de autoevaluación No. {{report.position}}</h6>
                        <label
                                style="cursor: pointer; flex: 1 2;"
                                class="d-flex flex-column align-items-center justify-content-center"
                                >
                                <div class="d-flex flex-column justify-content-center align-items-center" (click)="selfEvaluationQuest(report.position)">
                                  <img src="../../../../assets/icons/pdfReport.svg" style="width: 40%; cursor: pointer;">
                                    <div [ngSwitch]="selfEvaluations[report.position -1].status">
                                      <div *ngSwitchCase="'upload'">
                                        <span mat-line class="badge badge-pill badge-success">CARGADO</span>
                                      </div>
                                      <div *ngSwitchCase="'send'">
                                        <span mat-line class="badge badge-pill badge-info">EVALUACIÓN</span>
                                      </div>
                                      <div *ngSwitchCase="'reevaluate'">
                                        <span mat-line class="badge badge-pill badge-warn">REVALUACIÓN</span>
                                      </div>
                                      <div *ngSwitchCase="'approved'">
                                        <span mat-line class="badge badge-pill badge-success">APROBADO</span>
                                      </div>
                                      <div *ngSwitchCase="'register'">
                                        <div *ngIf="!disabledUploadReport(report.position, selfEvaluations[report.position -1].status)">
                                          <span mat-line class="badge badge-pill badge-warning">POR ENVIAR</span>
                                        </div>
                                        <div *ngIf="disabledUploadReport(report.position, selfEvaluations[report.position -1].status)">
                                          <span mat-line class="badge badge-pill badge-secondary">NO DISPONIBLE</span>
                                        </div>
                                      </div>
                                    </div>
                                </div>
                        </label>
                        <p *ngIf="['reevaluate', 'upload'].includes(selfEvaluations[report.position -1].status)" style="font-size: 0.6em;">Para editar el documento, vuelva a seleccionar otro documento</p>
                          <div class="text-center"  *ngIf="selfEvaluations[report.position -1].status === 'reevaluate'">
                            <button mat-icon-button matSuffix
                                    matTooltipClass="bg-danger"
                                    [matTooltip]="filesStatus.selfEvaluations[report.position - 1].message"
                                    matTooltipPosition="above"
                                    [attr.aria-label]="'show information'"
                                    style="margin-left: auto;"
                                    type="button">
                              <mat-icon class="text-danger">info</mat-icon>
                            </button>
                          </div>
                      </mat-card-content>
                  </mat-card>
                </div>

              </div>
              <!--Cuestionario managerEvaluation-->
              <div *ngIf="managerEv && report.position === managerEvPosition">
                <form [formGroup]="formManagerEvaluation" class="card-body" (ngSubmit)="registerManagerEvaluation()">
                  <hr>
                  <div>
                    <h2>Evaluación del Responsable del Programa</h2>
                  </div>
                  <div class="row"><!--evaluacion responsable del programa-->
                    <div class="col col-md-7">
                        <ngx-extended-pdf-viewer [base64Src]="pdf" backgroundColor="#ffffff" [height]="'90vh'" [useBrowserLocale]="true"
                            (pdfLoaded)="disableLoading()">
                        </ngx-extended-pdf-viewer>
                    </div>
                    <!--cuestionario-->
                    <div class="col col-md-5">
                      <div class="row">
                        <mat-icon class="text-info">info</mat-icon>
                        <h6>Contesta el formulario de acuerdo a la información de tu carta de evaluación</h6>
                      </div>
                      <div class="row">
                        <label>1-Cumple en tiempo y forma con las actividades encomendadas alcanzando los objetivos.</label>
                          <mat-form-field appearance="outline" style="width: 100%;">
                            <mat-label> Seleccione una opcion</mat-label>
                            <mat-select formControlName="q1">
                              <mat-option *ngFor="let score of scores" [value]="score.option">
                                {{score.value}}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                      </div>

                      <div class="row">
                        <label>2-Trabaja en equipo y se adapta a nuevas situaciones.</label>
                          <mat-form-field appearance="outline" style="width: 100%;">
                            <mat-label> Seleccione una opcion</mat-label>
                            <mat-select formControlName="q2">
                              <mat-option *ngFor="let score of scores" [value]="score.option">
                                {{score.value}}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                      </div>

                      <div class="row">
                        <label>3-Muestra liderazgo en las actividades encomendadas.</label>
                          <mat-form-field appearance="outline" style="width: 100%;">
                            <mat-label> Seleccione una opcion</mat-label>
                            <mat-select formControlName="q3">
                              <mat-option *ngFor="let score of scores" [value]="score.option">
                                {{score.value}}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                      </div>

                      <div class="row">
                        <label>4-Organiza su tiempo y trabaja de manera proactiva.</label>
                          <mat-form-field appearance="outline" style="width: 100%;">
                            <mat-label> Seleccione una opcion</mat-label>
                            <mat-select formControlName="q4">
                              <mat-option *ngFor="let score of scores" [value]="score.option">
                                {{score.value}}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                      </div>

                      <div class="row">
                        <label>5-Interpreta la realidad y se sensibiliza aportando soluciones a la problemática con la actividad complementaria.</label>
                          <mat-form-field appearance="outline" style="width: 100%;">
                            <mat-label> Seleccione una opcion</mat-label>
                            <mat-select formControlName="q5">
                              <mat-option *ngFor="let score of scores" [value]="score.option">
                                {{score.value}}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                      </div>

                      <div class="row">
                        <label>6-Realiza sugerencias innovadoras para beneficio o mejora del programa en el que participa.</label>
                          <mat-form-field appearance="outline" style="width: 100%;">
                            <mat-label> Seleccione una opcion</mat-label>
                            <mat-select formControlName="q6">
                              <mat-option *ngFor="let score of scores" [value]="score.option">
                                {{score.value}}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                      </div>

                      <div class="row">
                        <label>7-Tiene iniciativa para ayudar en las actividades encomendadas y muestra espíritu de servicio.</label>
                          <mat-form-field appearance="outline" style="width: 100%;">
                            <mat-label> Seleccione una opcion</mat-label>
                            <mat-select formControlName="q7">
                              <mat-option *ngFor="let score of scores" [value]="score.option">
                                {{score.value}}
                              </mat-option>
                            </mat-select>
                          </mat-form-field>
                      </div>

                    </div>
                  </div>

                  <div class="text-center mt-2">
                    <div class="flex justify-content-around">
                      <button mat-raised-button type="button" class="mt-2 buttonMargin" color="warn" (click)="cancelManagerEvaluation(report.position)">Cancelar</button>
                      <button mat-raised-button type="submit" class="mt-2 buttonMargin" color="primary">Aceptar</button>
                    </div>
                  </div>
                </form>
                <hr>
              </div>
              <!--Cuestionario managerEvaluation-->

              <!--Cuestionario Autoevaluacion-->
              <div *ngIf="selfEv && report.position === selfEvPosition">
                <hr>
                <div>
                  <h2>Autoevaluación</h2>
                </div>
                <form [formGroup]="formSelfEvaluation" class="card-body" (ngSubmit)="registerSelfEvaluation()">
                  <div class="row">
                    <label>1-Cumplí en tiempo y forma con las actividades encomendadas alcanzando los objetivos.</label>
                      <mat-form-field appearance="outline" style="width: 100%;">
                        <mat-label> Seleccione una opcion</mat-label>
                        <mat-select formControlName="QS1">
                          <mat-option *ngFor="let score of scores" [value]="score.option">
                            {{score.value}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                  </div>

                  <div class="row">
                    <label>2-Trabajé en equipo y me adapté a nuevas situaciones.</label>
                      <mat-form-field appearance="outline" style="width: 100%;">
                        <mat-label> Seleccione una opcion</mat-label>
                        <mat-select formControlName="QS2">
                          <mat-option *ngFor="let score of scores" [value]="score.option">
                            {{score.value}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                  </div>

                  <div class="row">
                    <label>3-Mostré liderazgo en las actividades encomendadas.</label>
                      <mat-form-field appearance="outline" style="width: 100%;">
                        <mat-label> Seleccione una opcion</mat-label>
                        <mat-select formControlName="QS3">
                          <mat-option *ngFor="let score of scores" [value]="score.option">
                            {{score.value}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                  </div>

                  <div class="row">
                    <label>4-Organicé mi tiempo y trabajé de manera proactiva.</label>
                      <mat-form-field appearance="outline" style="width: 100%;">
                        <mat-label> Seleccione una opcion</mat-label>
                        <mat-select formControlName="QS4">
                          <mat-option *ngFor="let score of scores" [value]="score.option">
                            {{score.value}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                  </div>

                  <div class="row">
                    <label>5-Interpreté la realidad y me sensibilicé aportando soluciones a la problemática con la actividad complementaria.</label>
                      <mat-form-field appearance="outline" style="width: 100%;">
                        <mat-label> Seleccione una opcion</mat-label>
                        <mat-select formControlName="QS5">
                          <mat-option *ngFor="let score of scores" [value]="score.option">
                            {{score.value}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                  </div>

                  <div class="row">
                    <label>6-Realicé sugerencias innovadoras para beneficio o mejora del programa en el que participa.</label>
                      <mat-form-field appearance="outline" style="width: 100%;">
                        <mat-label> Seleccione una opcion</mat-label>
                        <mat-select formControlName="QS6">
                          <mat-option *ngFor="let score of scores" [value]="score.option">
                            {{score.value}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                  </div>

                  <div class="row">
                    <label>7-Tuve iniciativa para ayudar en las actividades encomendadas y mostré espíritu de servicio.</label>
                      <mat-form-field appearance="outline" style="width: 100%;">
                        <mat-label> Seleccione una opcion</mat-label>
                        <mat-select formControlName="QS7">
                          <mat-option *ngFor="let score of scores" [value]="score.option">
                            {{score.value}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field>
                  </div>

                  <div class="row">
                    <label>Observaciones.</label>
                    <mat-form-field appearance="outline" style="width: 100%;">
                        <textarea matInput formControlName="selfObservations" type="text" rows="8"></textarea>
                      </mat-form-field>
                  </div>

                  <div>
                    <div class="row text-center flex justify-content-center">
                      <button mat-raised-button type="button" class="mt-2 buttonMargin" color="warn" (click)="cancelSelfEvaluation()">Cancelar</button>
                      <div *ngIf="saveSelfEvaluationButton">
                        <button mat-raised-button type="submit" class="mt-2 buttonMargin" color="primary">Guardar</button>
                      </div>
                      <div *ngIf="signSelfEvaluationButton">
                          <button mat-raised-button type="button" class="mt-2 buttonMargin" color="primary" (click)="signSelfEvaluation()">Firmar</button>
                      </div>
                    </div>
                  </div>
                </form>

                <hr>
              </div>
              <!--Cuestionario Autoevaluacion-->

            </div>
            <!--Cards de reportes-->
            <!--
            <div class="text-center">
              <button mat-raised-button color="primary" class="w-50" (click)="uploadReportFile()" [disabled]="validateUploadReport()">Subir Documentos</button>
            </div>
            -->
          </div><!--reportes bimestrales-->

          <div *ngIf="bimestralReport && finalReport"><!--reporte final, carta de evaluacion del reporte final y carta de liberacion-->
            <div class="text-center margen">
              <div class="flex justify-content-around">

                <button mat-raised-button type="button" class="mt-2 buttonMargin">
                  <a class="noDecorado" download="SERVICIO_SOCIAL_GUIA_REPORTE_FINAL.doc" target="_blank" href="src/assets/docs/SERVICIO_SOCIAL_GUIA_REPORTE_FINAL.docx">
                    Guía para Reporte Final
                  </a>
                  <mat-icon matPrefix class="text-info">cloud_download</mat-icon>
                </button>
                <!--
                  <button mat-raised-button type="button" class="mt-2 buttonMargin">
                    <a class="noDecorado" href="http://www.tepic.tecnm.mx/sgc2/files/Procesos_Centrales/Servicio_Social/Registros%20SS/ITT-POC-08-10%20EVALUACI%C3%93N%20DEL%20REPORTE%20FINAL.docx">
                      Formato de Carta de Evaluación de Reporte Final
                    </a>
                    <mat-icon matPrefix class="text-info">cloud_download</mat-icon>
                  </button>
                -->
                <div class="row margen d-flex justify-content-center">
                  <!--Reporte final-->
                  <div class="col-3">
                    <mat-card class="my-2 solicitude-document">
                      <mat-card-content class="d-flex flex-column justify-content-center align-items-center">
                        <h6 class="text-center">Reporte Final</h6>
                        <label for="lastReport" style="cursor: pointer; flex: 1 2;" class="d-flex flex-column align-items-center justify-content-center">
                          <img src="../../../../assets/icons/pdfReport.svg" style="width: 40%; cursor: pointer;">
                          <div [ngSwitch]="lastReport">
                            <div *ngSwitchCase="'upload'">
                              <span mat-line class="badge badge-pill badge-success">CARGADO</span>
                            </div>
                            <div *ngSwitchCase="'send'">
                              <span mat-line class="badge badge-pill badge-info">EVALUACIÓN</span>
                            </div>
                            <div *ngSwitchCase="'reevaluate'">
                              <span mat-line class="badge badge-pill badge-warn">REVALUACIÓN</span>
                            </div>
                            <div *ngSwitchCase="'approved'">
                              <span mat-line class="badge badge-pill badge-success">APROBADO</span>
                            </div>
                            <div *ngSwitchDefault>
                              <span mat-line class="badge badge-pill badge-warning">POR ENVIAR</span>
                            </div>
                          </div>
                        </label>
                        <p *ngIf="['reevaluate', 'upload'].includes(lastReport)" style="font-size: 0.6em;">Para editar el documento, vuelva a seleccionar otro documento</p>
                        <div class="text-center"  *ngIf="lastReport === 'reevaluate'">
                          <button mat-icon-button matSuffix
                                  matTooltipClass="bg-danger"
                                  [matTooltip]="filesStatus['lastReport'].message"
                                  matTooltipPosition="above"
                                  [attr.aria-label]="'show information'"
                                  style="margin-left: auto;"
                                  type="button">
                            <mat-icon class="text-danger">info</mat-icon>
                          </button>
                        </div>
                        <input type="file" id="lastReport" (change)="uploadFinalReportDocumentation($event)"
                               hidden="hidden" accept="application/pdf" [disabled]="disabledUploadFinalFile('lastReport')">
                      </mat-card-content>
                    </mat-card>
                  </div>

                  <!--Carta de liberacion-->
                  <div class="col-3">
                    <mat-card class="my-2 solicitude-document">
                      <mat-card-content class="d-flex flex-column justify-content-center align-items-center">
                        <h6 class="text-center">Carta de Liberación de la dependencia</h6>
                        <label for="dependencyRelease" style="cursor: pointer; flex: 1 2;" class="d-flex flex-column align-items-center justify-content-center">
                          <img src="../../../../assets/icons/pdfReport.svg" style="width: 40%; cursor: pointer;">
                          <div [ngSwitch]="dependencyRelease">
                            <div *ngSwitchCase="'upload'">
                              <span mat-line class="badge badge-pill badge-success">CARGADO</span>
                            </div>
                            <div *ngSwitchCase="'send'">
                              <span mat-line class="badge badge-pill badge-info">EVALUACIÓN</span>
                            </div>
                            <div *ngSwitchCase="'reevaluate'">
                              <span mat-line class="badge badge-pill badge-warn">REVALUACIÓN</span>
                            </div>
                            <div *ngSwitchCase="'approved'">
                              <span mat-line class="badge badge-pill badge-success">APROBADO</span>
                            </div>
                            <div *ngSwitchDefault>
                              <span mat-line class="badge badge-pill badge-warning">POR ENVIAR</span>
                            </div>
                          </div>
                        </label>
                        <p *ngIf="['reevaluate', 'upload'].includes(dependencyRelease)" style="font-size: 0.6em;">Para editar el documento, vuelva a seleccionar otro documento</p>
                        <div class="text-center"  *ngIf="dependencyRelease === 'reevaluate'">
                          <button mat-icon-button matSuffix
                                  matTooltipClass="bg-danger"
                                  [matTooltip]="filesStatus['dependencyRelease'].message"
                                  matTooltipPosition="above"
                                  [attr.aria-label]="'show information'"
                                  style="margin-left: auto;"
                                  type="button">
                            <mat-icon class="text-danger">info</mat-icon>
                          </button>
                        </div>
                        <input type="file" id="dependencyRelease" (change)="uploadFinalReportDocumentation($event)"
                               hidden="hidden" accept="application/pdf" [disabled]="disabledUploadFinalFile('dependencyRelease')">
                      </mat-card-content>
                    </mat-card>
                  </div>

                  <!--Formato de evaluacion de Reporte final-->
                  <div class="col-3" >
                    <mat-card class="my-2 solicitude-document">
                        <mat-card-content class="d-flex flex-column justify-content-center align-items-center">
                          <h6 class="text-center">Formato de Evaluación de las actividades</h6>
                          <label
                                  style="cursor: pointer; flex: 1 2;"
                                  class="d-flex flex-column align-items-center justify-content-center"
                                  >
                                  <div class="d-flex flex-column justify-content-center align-items-center" (click)="lastReportEvaluationQuest()">
                                    <img src="../../../../assets/icons/pdfReport.svg" style="width: 40%; cursor: pointer;">
                                    <div [ngSwitch]="lastReportEvaluation">
                                      <div *ngSwitchCase="'upload'">
                                        <span mat-line class="badge badge-pill badge-success">CARGADO</span>
                                      </div>
                                      <div *ngSwitchCase="'send'">
                                        <span mat-line class="badge badge-pill badge-info">EVALUACIÓN</span>
                                      </div>
                                      <div *ngSwitchCase="'reevaluate'">
                                        <span mat-line class="badge badge-pill badge-warn">REVALUACIÓN</span>
                                      </div>
                                      <div *ngSwitchCase="'approved'">
                                        <span mat-line class="badge badge-pill badge-success">APROBADO</span>
                                      </div>
                                      <div *ngSwitchDefault>
                                        <span mat-line class="badge badge-pill badge-warning">POR ENVIAR</span>
                                      </div>
                                    </div>
                                  </div>
                          </label>
                          <p *ngIf="['reevaluate', 'upload'].includes(lastReportEvaluation)" style="font-size: 0.6em;">Para editar el documento, vuelva a hacer click</p>
                            <div class="text-center"  *ngIf="lastReportEvaluation === 'reevaluate'">
                              <button mat-icon-button matSuffix
                                      matTooltipClass="bg-danger"
                                      [matTooltip]="filesStatus['lastReportEvaluation'].message"
                                      matTooltipPosition="above"
                                      [attr.aria-label]="'show information'"
                                      style="margin-left: auto;"
                                      type="button">
                                <mat-icon class="text-danger">info</mat-icon>
                              </button>
                            </div>
                        </mat-card-content>
                    </mat-card>
                  </div>
                </div>

                <!--Cuestionario Formato de evaluacion de reporte final-->
                <div *ngIf="lastReportEvaluationForm">
                  <hr>
                  <div>
                    <h2>FORMATO DE EVALUACIÓN DE LAS ACTIVIDADES POR EL PRESTADOR DE SERVICIO SOCIAL</h2>
                  </div>
                  <form [formGroup]="formlastReportEvaluation" class="card-body" (ngSubmit)="registerlastReportEvaluation()">
                    <div class="row">
                      <label>1-¿Consideras importante la realización del Servicio Social?.</label>
                        <mat-form-field appearance="outline" style="width: 100%;">
                          <mat-label> Seleccione una opcion</mat-label>
                          <mat-select formControlName="QL1">
                            <mat-option *ngFor="let score of scores" [value]="score.option">
                              {{score.value}}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                    </div>

                    <div class="row">
                      <label>2-¿Consideras que las actividades que realizaste son pertinentes a los fines del Servicio Social?.</label>
                        <mat-form-field appearance="outline" style="width: 100%;">
                          <mat-label> Seleccione una opcion</mat-label>
                          <mat-select formControlName="QL2">
                            <mat-option *ngFor="let score of scores" [value]="score.option">
                              {{score.value}}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                    </div>

                    <div class="row">
                      <label>3-¿Consideras que las actividades que realizaste contribuyen a tu formación integral?.</label>
                        <mat-form-field appearance="outline" style="width: 100%;">
                          <mat-label> Seleccione una opcion</mat-label>
                          <mat-select formControlName="QL3">
                            <mat-option *ngFor="let score of scores" [value]="score.option">
                              {{score.value}}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                    </div>

                    <div class="row">
                      <label>4-¿Contribuiste en actividades de beneficio social comunitario?.</label>
                        <mat-form-field appearance="outline" style="width: 100%;">
                          <mat-label> Seleccione una opcion</mat-label>
                          <mat-select formControlName="QL4">
                            <mat-option *ngFor="let score of scores" [value]="score.option">
                              {{score.value}}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                    </div>

                    <div class="row">
                      <label>5-¿Contribuiste en actividades de protección al medio ambiente?.</label>
                        <mat-form-field appearance="outline" style="width: 100%;">
                          <mat-label> Seleccione una opcion</mat-label>
                          <mat-select formControlName="QL5">
                            <mat-option *ngFor="let score of scores" [value]="score.option">
                              {{score.value}}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                    </div>

                    <div class="row">
                      <label>6-¿Cómo consideras que las competencias que adquiriste en la escuela contribuyeron a atender asertivamente las actividades de servicio social?.</label>
                        <mat-form-field appearance="outline" style="width: 100%;">
                          <mat-label> Seleccione una opcion</mat-label>
                          <mat-select formControlName="QL6">
                            <mat-option *ngFor="let score of scores" [value]="score.option">
                              {{score.value}}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                    </div>

                    <div class="row">
                      <label>7-¿Consideras que sería factible continuar con este proyecto de Servicio Social a un proyecto de Residencias Profesionales, proyecto integrador, proyecto de investigación o desarrollo tecnológico?.</label>
                        <mat-form-field appearance="outline" style="width: 100%;">
                          <mat-label> Seleccione una opcion</mat-label>
                          <mat-select formControlName="QL7">
                            <mat-option *ngFor="let score of scores" [value]="score.option">
                              {{score.value}}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                    </div>

                    <div class="row">
                      <label>8-¿Recomendarías a otro estudiante realizar su Servicio Social en la dependencia donde lo realizaste?.</label>
                        <mat-form-field appearance="outline" style="width: 100%;">
                          <mat-label> Seleccione una opcion</mat-label>
                          <mat-select formControlName="QL8">
                            <mat-option *ngFor="let score of scores" [value]="score.option">
                              {{score.value}}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                    </div>

                    <div class="row">
                      <label>Observaciones.</label>
                      <mat-form-field appearance="outline" style="width: 100%;">
                          <textarea matInput formControlName="lastselfObservations" type="text" rows="8"></textarea>
                        </mat-form-field>
                    </div>

                    <div>
                      <div class="row text-center flex justify-content-center">
                        <button mat-raised-button type="button" class="mt-2 buttonMargin" color="warn" (click)="cancelLastReportEvaluationForm()">Cancelar</button>
                        <div *ngIf="saveLastSelfEvaluationButton">
                          <button mat-raised-button type="submit" class="mt-2 buttonMargin" color="primary">Guardar</button>
                        </div>
                        <div *ngIf="signLastSelfEvaluationButton">
                            <button mat-raised-button type="button" class="mt-2 buttonMargin" color="primary" (click)="signLastSelfEvaluation()">Firmar</button>
                        </div>
                      </div>
                    </div>
                  </form>

                  <hr>
                </div>
                <!--Cuestionario Formato de evaluacion de reporte final-->

              </div>
            </div>
          </div><!--reporte final y carta de evaluacion del reporte final-->

          <div *ngIf="bimestralReport && !finalReport">
              <div class="row justify-content-center">
                <div class="col-10 col-sm-8 col-md-6 col-lg-4">
                  <mat-card style="height: 225px; width: 300px;">
                    <mat-card-header class="flex-column align-items-center">
                      <img alt="File" src="../../../../assets/imgs/approved.png" style="width: 80px; height: 80px;">
                      <h5 class="text-center mt-3">Sus reportes han sido <span class="text-success">aceptados</span></h5>
                    </mat-card-header>
                  </mat-card>
                </div>
              </div>
              <div class="col-12 mt-4" style="text-align: center;">
                <button mat-raised-button matStepperNext color="primary" style="width: 15%;" (click)="updateStepWizard(4)">Continuar</button>
              </div>
          </div>

        </mat-step>

        <mat-step [completed]="lastStep"><!--Validacion-->
          <ng-template matStepLabel>Proceso de Validación</ng-template>
          <div class="row justify-content-center margen">
            <div class="col-10 col-sm-8 col-md-6 col-lg-4">
              <mat-card style="height: 200px; width: 300px;">
                <mat-card-header class="flex-column align-items-center">
                  <img alt="File" src="../../../../assets/imgs/reloj.png" style="width: 80px; height: 80px;">
                  <h5 class="text-center mt-3">Su <strong>carta de liberación</strong> está en proceso</h5>
                </mat-card-header>
              </mat-card>
            </div>
          </div>

        </mat-step>

      </mat-vertical-stepper>
    </div>
  </div>
</div>

<div *ngIf="releaseSocialService" class="d-flex justify-content-center">
  <mat-card class="w-75 m-2">
    <mat-card-content class="d-flex flex-column align-items-center justify-content-center">
      <img alt="File" src="../../../../assets/imgs/approved.png" style="width: 100px; height: 100px;">
      <h5 class="text-center mt-3">Ya has liberado tu servicio social</h5>
      <div class="w-50 mt-3">
        <div class="w-100 mx-auto">
          <div class="row">
            <div class="flex justify-content-around">
              <button mat-raised-button type="button" (click)="downloadRelease()" class="mt-2 buttonMargin">
                  Carta de liberación
                <mat-icon matPrefix class="text-info">cloud_download</mat-icon>
              </button>
              <button mat-raised-button type="button" class="mt-2 buttonMargin" routerLink="/social-service/recordStudent" [queryParams]="{id: controlStudentId}">
                  Expediente
                <mat-icon matPrefix class="text-info">folder_shared</mat-icon>
              </button>
            </div>
          </div>
        </div>
      </div>
    </mat-card-content>
  </mat-card>
</div>
