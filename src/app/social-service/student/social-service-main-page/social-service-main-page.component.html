<div *ngIf="loaded">
  <div class="w-100 d-flex justify-content-around">
    <button mat-flat-button color="accent" (click)="permission = false">Sin permiso</button>
    <button mat-flat-button color="primary" (click)="permission = true">Con permiso</button>
  </div>
  <div *ngIf="!releaseSocialService">
    <div *ngIf="!permission" class="d-flex justify-content-center">
      <mat-card class="w-75 m-2">
        <mat-card-content class="d-flex flex-column align-items-center justify-content-center">
          <img alt="File" src="../../../../assets/imgs/sweetInfoIcon.png" style="width: 100px; height: 100px;">
          <h4 class="text-center mt-3 text-primary noAccepted">Lo sentimos</h4>
          <h5 class="text-center mt-3 noAccepted">Todavía no cumples con los requisitos para realizar tu servicio social</h5>
          <div class="w-50 mt-3">
            <h5 class="messageVerify font-weight-bold">Requisitos:</h5>
            <div class="w-100 mx-auto">
              <ol class="listVerify">
                <li>Cumplir con el 70% de tu avance reticular <mat-icon class="text-danger" matTooltip="Todavía no cumples con el avance reticular">clear</mat-icon></li>
                <li>Ser un estudiante con estatus Activo <mat-icon class="text-success">check</mat-icon></li>
                <li>Asistir a la junta de servicio social <mat-icon class="text-danger">clear</mat-icon></li>
              </ol>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
    <div *ngIf="permission">
      <div class="w-100 my-1 d-flex justify-content-around">
        <button mat-flat-button color="accent" (click)="assistance = false">Sin asistencia</button>
        <button mat-flat-button color="primary" (click)="assistance = true">Con asistencia</button>
      </div>
      <mat-vertical-stepper [linear]="true" #stepper>
        <mat-step [completed]="assistance">
          <ng-template matStepLabel>
            Asistencia
            <button *ngIf="assistance" mat-fab color="primary" matTooltip="Expediente" routerLink="/social-service/recordStudent" [queryParams]="{id: controlStudentId}" style="position: absolute; top: 5px; right: 5px;">
              <mat-icon class="material-icons">folder_shared</mat-icon>
            </button>
          </ng-template>
          <div *ngIf="assistance">
            <h5 class="text-center">Ya tienes tu asistencia registrada</h5>
            <div class="d-flex justify-content-center">
              <button mat-raised-button matStepperNext color="primary" style="width: 25%;">Continuar</button>
            </div>
          </div>
          <div *ngIf="!assistance">
            <h5>Todavía no tienes tu asistencia registrada</h5>
            <p>Si quieres iniciar con tu proceso de servicio social necesitaras mirar el siguiente video y responder al formulario a continuación</p>
            <mat-horizontal-stepper [linear]="true">
              <mat-step [completed]="assistanceFirstStep">
                <ng-template matStepLabel>Video de Servicio Social</ng-template>
                <div class="row justify-content-center">
                  <div class="col-12 my-2">
                    <h4>Video: <a href="#" target="_blank" (click)="assistanceFirstStep = true">¿Qué significa hacer mi servicio social?</a></h4>
                  </div>
                  <div class="col-6">
                    <button mat-raised-button matStepperNext color="primary" [disabled]="!assistanceFirstStep" style="width: 100%;">Continuar</button>
                  </div>
                </div>
              </mat-step>
              <mat-step [completed]="assistanceSecondStep" label="Fill out your address">
                <ng-template matStepLabel>Formulario de Servicio Social</ng-template>
                <div class="row justify-content-center">
                  <div class="col-12 my-2">
                    <h4>Formulario: <a href="#" target="_blank" (click)="assistanceSecondStep = true">Asistencia para el servicio social</a></h4>
                  </div>
                  <div class="col-6">
                    <button mat-raised-button matStepperNext [disabled]="!assistanceSecondStep" color="primary" style="width: 100%;">Continuar</button>
                  </div>
                </div>
              </mat-step>
              <mat-step>

                <ng-template matStepLabel>Resultado</ng-template>
                <h5 class="text-center">Tu asistencia para servicio social se ha registrado con éxito</h5>
                <div class="d-flex justify-content-center" *ngIf="assistanceFirstStep && assistanceSecondStep">
                  <button mat-raised-button matStepperNext (click)="assistance = true" color="primary" style="width: 25%;">Continuar</button>
                </div>
              </mat-step>
            </mat-horizontal-stepper>
          </div>
        </mat-step>

        <mat-step [completed]="solicitudeDocument">
          <ng-template matStepLabel>Solicitud para Servicio social</ng-template>
          <app-social-service-init-form *ngIf="statusFirstDocuments === 'register'"
                                        [controlStudentId]="controlStudentId"
                                        [sendEmailCode]="sendEmailCode"
                                        [verificationEmail]="verificationEmail"
                                        [folderId]="folderId"
                                        (sendInformation)="changeStatusSendInformation()"
                                        [email]="emailStudent"
                                        [controlNumber]="userData.email"></app-social-service-init-form>
          <div *ngIf="statusFirstDocuments === 'send'">
            <div class="row justify-content-center">
              <div class="col-10 col-sm-8 col-md-6 col-lg-4">
                <mat-card style="height: 200px; width: 300px;">
                  <mat-card-header class="flex-column align-items-center">
                    <img alt="File" src="../../../../assets/imgs/reloj.png" style="width: 80px; height: 80px;">
                    <h5 class="text-center mt-3">Su <strong>información</strong> está siendo <strong class="text-info">validada </strong></h5>
                  </mat-card-header>
                </mat-card>
              </div>
              <div class="col-12 mt-4" style=" text-align: center;">
                <button mat-raised-button matStepperNext color="primary" style="width: 15%;">Continuar</button>
              </div>
            </div>
          </div>
          <app-social-service-review-init-form *ngIf="statusFirstDocuments === 'reevaluate'"
                                               [controlStudentId]="controlStudentId"
                                               [folderId]="folderId"
                                               (sendInformation)="changeStatusSendInformation()"
                                               [controlNumber]="userData.email">

          </app-social-service-review-init-form>
          <div *ngIf="statusFirstDocuments === 'approved'">
            <div class="row justify-content-center">
              <div class="col-10 col-sm-8 col-md-6 col-lg-4">
                <mat-card style="height: 225px; width: 300px;">
                  <mat-card-header class="flex-column align-items-center">
                    <img alt="File" src="../../../../assets/imgs/approved.png" style="width: 80px; height: 80px;">
                    <h5 class="text-center mt-3">Su <strong>solicitud</strong> ha sido <strong class="text-success">aceptada </strong></h5>
                    <button mat-raised-button type="button" (click)="downloadSolicitude()">
                      Descargar solicitud
                      <mat-icon matPrefix class="text-info">cloud_download</mat-icon>
                    </button>
                  </mat-card-header>
                </mat-card>
              </div>
              <div class="col-12 mt-4 text-center">
                <button mat-raised-button matStepperNext color="primary" style="width: 20%;">Continuar</button>
              </div>
            </div>
          </div>
        </mat-step>

        <mat-step [completed]="true"><!--presentationDocument-->
          <ng-template matStepLabel>Documentos de presentación</ng-template>
          <div *ngIf="statusFirstDocuments === 'approved'">
            <div *ngIf="['noAssigned','assigned'].includes(presentation)">
              <div class="row justify-content-center">
                <div class="col-10 col-sm-8 col-md-6 col-lg-4">
                  <mat-card style="height: 225px; width: 300px;">
                    <mat-card-header class="flex-column align-items-center">
                      <img alt="File" src="../../../../assets/imgs/reloj.png" style="width: 80px; height: 80px;">
                      <h5 class="text-center mt-3">Su Carta de presentación está en trámite</h5>
                    </mat-card-header>
                  </mat-card>
                </div>
              </div>
            </div>
            <div *ngIf="presentation === 'sign' && !presentationDownloaded">
              <br>
              <div class="row justify-content-center">
                <div class="col-10 col-sm-8 col-md-6 col-lg-4">
                  <mat-card style="height: 225px; width: 300px;">
                    <mat-card-header class="flex-column align-items-center">
                      <img alt="File" src="../../../../assets/imgs/approved.png" style="width: 80px; height: 80px;">
                      <h5 class="text-center mt-3">Su <strong>Carta de presentación</strong> esta <strong class="text-success">lista </strong></h5>
                      <button mat-raised-button type="button" (click)="downloadPresentation()">
                        Descargar Carta
                        <mat-icon matPrefix class="text-info">cloud_download</mat-icon>
                      </button>
                    </mat-card-header>
                  </mat-card>
                </div>
              </div>
            </div>
            <div *ngIf="presentationDownloaded && !savedSchedule" class="text-center">
              <br>
              <h6 class="mt-3"><strong>Llene su horario</strong></h6>
              <br>
              <form [formGroup]="formSchedule" (ngSubmit)="registerSchedule()">
                <div class="justify-content-center" style="overflow-x:auto;">
                  <table>
                    <tr>
                      <th>Dia</th>
                      <th></th>
                      <th>Lunes</th>
                      <th>Martes</th>
                      <th>Miercoles</th>
                      <th>Jueves</th>
                      <th>Viernes</th>
                      <th>Sabado</th>
                      <th>Domingo</th>
                      <th>Total</th>
                      <th><mat-icon matTooltip="Debe cumplir con 21 horas por semana" class="text-info">info</mat-icon></th>
                    </tr>
                    <tr>
                      <td>
                        <span style=" float: left">Hora</span>
                      </td>
                      <td>
                        <mat-icon style=" float: right" matTooltip="Indicar horario en el formato  hh:mm-hh:mm en un rango de 07:00-20:00 en formato de 24 hrs" class="text-info">info</mat-icon>
                      </td>
                      <td>
                        <mat-form-field appearance="fill" class="field-day">
                          <input matInput formControlName="monday" placeholder="12:00-14:00" on-focusout="sumHours()">
                        </mat-form-field>
                      </td>
                      <td>
                        <mat-form-field appearance="fill" class="field-day">
                          <input matInput formControlName="tuesday" placeholder="12:00-14:00" on-focusout="sumHours()">
                        </mat-form-field>
                      </td>
                      <td>
                        <mat-form-field appearance="fill" class="field-day">
                          <input matInput formControlName="wednesday" placeholder="12:00-14:00" on-focusout="sumHours()">
                        </mat-form-field>
                      </td>
                      <td>
                        <mat-form-field appearance="fill" class="field-day">
                          <input matInput formControlName="thursday" placeholder="12:00-14:00" on-focusout="sumHours()">
                        </mat-form-field>
                      </td>
                      <td>
                        <mat-form-field appearance="fill" class="field-day">
                          <input matInput formControlName="friday" placeholder="12:00-14:00" on-focusout="sumHours()">
                        </mat-form-field>
                      </td>
                      <td>
                        <mat-form-field appearance="fill" class="field-day">
                          <input matInput formControlName="saturday" placeholder="12:00-14:00" on-focusout="sumHours()">
                        </mat-form-field>
                      </td>
                      <td>
                        <mat-form-field appearance="fill" class="field-day">
                          <input matInput formControlName="sunday" placeholder="12:00-14:00" on-focusout="sumHours()">
                        </mat-form-field>
                      </td>
                      <td>
                        <span>{{total}}</span>
                      </td>
                      <td></td>
                    </tr>
                  </table>
                </div>
                <br>

                <h4>¿En que mes iniciará su servicio social?</h4>
                <div class="row">
                    <mat-form-field appearance="fill">
                      <mat-label>Seleccione un mes</mat-label>
                      <select matNativeControl formControlName="initialMonth">
                        <option value="0">Enero</option>
                        <option value="1">Febrero</option>
                        <option value="2">Marzo</option>
                        <option value="3">Abril</option>
                        <option value="4">Mayo</option>
                        <option value="5">Junio</option>
                        <option value="6">Julio</option>
                        <option value="7">Agosto</option>
                        <option value="8">Septiembre</option>
                        <option value="9">Octubre</option>
                        <option value="10">Noviembre</option>
                        <option value="11">Diciembre</option>
                      </select>
                    </mat-form-field>
                </div>
                <br>
                <div class="row justify-content-center">
                  <div class="col-3">
                    <button mat-raised-button type="submit" [disabled]="!verificationSchedule" color="primary" style="width:100%">Guardar plan de trabajo</button>
                  </div>
                </div>
              </form>
            </div>
            <div *ngIf="presentationDownloaded && savedSchedule && !workPlanProjectDownloaded" class="text-center">
              <div class="row justify-content-center">
                <div class="col-10 col-sm-8 col-md-6 col-lg-4">
                  <mat-card style="height: 225px; width: 300px;">
                    <mat-card-header class="flex-column align-items-center">
                      <img alt="File" src="../../../../assets/imgs/approved.png" style="width: 80px; height: 80px;">
                      <h5 class="text-center mt-3"><strong>Carta de asignación - Plan de trabajo</strong></h5>
                      <button mat-raised-button type="button" (click)="downloadAsignation()">
                        Descargar Carta de Asignación
                        <mat-icon matPrefix class="text-info">cloud_download</mat-icon>
                      </button>
                    </mat-card-header>
                  </mat-card>
                </div>
              </div>
            </div>
            <div *ngIf="presentationDownloaded && savedSchedule && workPlanProjectDownloaded && (validateSolicitudePhase() === 'register' || validateSolicitudePhase() === 'reevaluate')" class="text-center">
              <div class="flex justify-content-around">
                <button mat-button type="button" class="mt-2" (click)="downloadPresentation()">
                  Descargar Carta de Presentación
                  <mat-icon matPrefix class="text-info">cloud_download</mat-icon>
                </button>
                <button mat-button type="button" class="mt-2" (click)="downloadAsignation()">
                  Descargar Carta de Asignación/Plan de trabajo
                  <mat-icon matPrefix class="text-info">cloud_download</mat-icon>
                </button>
              </div>
              <div class="row margen">
                <div class="col-3">
                  <mat-card class="my-2 solicitude-document">
                    <mat-card-content class="d-flex flex-column justify-content-center align-items-center">
                      <h6 class="text-center">Carta de presentación</h6>
                      <label for="presentation" style="cursor: pointer; flex: 1 2;" class="d-flex flex-column align-items-center justify-content-center">
                        <img src="../../../../assets/icons/pdfReport.svg" style="width: 40%; cursor: pointer;">
                        <div [ngSwitch]="presentation">
                          <div *ngSwitchCase="'upload'">
                            <span mat-line class="badge badge-pill badge-success">CARGADO</span>
                          </div>
                          <div *ngSwitchCase="'send'">
                            <span mat-line class="badge badge-pill badge-info">EVALUACIÓN</span>
                          </div>
                          <div *ngSwitchCase="'reevaluate'">
                            <span mat-line class="badge badge-pill badge-warn">REEVALUACIÓN</span>
                          </div>
                          <div *ngSwitchCase="'approved'">
                            <span mat-line class="badge badge-pill badge-success">APROBADO</span>
                          </div>
                          <div *ngSwitchDefault>
                            <span mat-line class="badge badge-pill badge-warning">POR ENVIAR</span>
                          </div>
                        </div>
                      </label>
                      <small>*Subir carta de presentación firmada por la dependencia</small>
                      <p *ngIf="['reevaluate', 'upload'].includes(presentation)" style="font-size: 0.6em;">Para editar el documento, vuelva a seleccionar otro documento</p>
                      <div class="text-center" *ngIf="presentation === 'reevaluate'">
                        <button mat-icon-button matSuffix
                                matTooltipClass="bg-danger"
                                [matTooltip]="filesStatus['presentation'].message"
                                matTooltipPosition="above"
                                [attr.aria-label]="'show information'"
                                style="margin-left: auto;"
                                type="button">
                          <mat-icon class="text-danger">info</mat-icon>
                        </button>
                      </div>
                      <input type="file" id="presentation" (change)="onFileChange($event)"
                             hidden="hidden" accept="application/pdf" [disabled]="disabledUploadFile('presentation')">
                    </mat-card-content>
                  </mat-card>
                </div>
                <div class="col-3">
                  <mat-card class="my-2 solicitude-document">
                    <mat-card-content class="d-flex flex-column justify-content-center align-items-center">
                      <h6 class="text-center">Carta de <br>aceptación</h6>
                      <label for="acceptance" style="cursor: pointer; flex: 1 2;" class="d-flex flex-column align-items-center justify-content-center">
                        <img src="../../../../assets/icons/pdfReport.svg" style="width: 40%; cursor: pointer;">
                        <div [ngSwitch]="acceptance">
                          <div *ngSwitchCase="'upload'">
                            <span mat-line class="badge badge-pill badge-success">CARGADO</span>
                          </div>
                          <div *ngSwitchCase="'send'">
                            <span mat-line class="badge badge-pill badge-info">EVALUACIÓN</span>
                          </div>
                          <div *ngSwitchCase="'reevaluate'">
                            <span mat-line class="badge badge-pill badge-warn">REEVALUACIÓN</span>
                          </div>
                          <div *ngSwitchCase="'approved'">
                            <span mat-line class="badge badge-pill badge-success">APROBADO</span>
                          </div>
                          <div *ngSwitchDefault>
                            <span mat-line class="badge badge-pill badge-warning">POR ENVIAR</span>
                          </div>
                        </div>
                      </label>
                      <p *ngIf="['reevaluate', 'upload'].includes(acceptance)" style="font-size: 0.6em;">Para editar el documento, vuelva a seleccionar otro documento</p>
                      <div class="text-center"  *ngIf="acceptance === 'reevaluate'">
                        <button mat-icon-button matSuffix
                                matTooltipClass="bg-danger"
                                [matTooltip]="filesStatus['acceptance'].message"
                                matTooltipPosition="above"
                                [attr.aria-label]="'show information'"
                                style="margin-left: auto;"
                                type="button">
                          <mat-icon class="text-danger">info</mat-icon>
                        </button>
                      </div>
                      <input type="file" id="acceptance" (change)="onFileChange($event)"
                             hidden="hidden" accept="application/pdf" [disabled]="disabledUploadFile('acceptance')">
                    </mat-card-content>
                  </mat-card>
                </div>
                <div class="col-3">
                  <mat-card class="my-2 solicitude-document">
                    <mat-card-content class="d-flex flex-column justify-content-center align-items-center">
                      <h6 class="text-center">Carta de asignación - Plan de trabajo</h6>
                      <label for="workProject" style="cursor: pointer; flex: 1 2;" class="d-flex flex-column align-items-center justify-content-center">
                        <img src="../../../../assets/icons/pdfReport.svg" style="width: 40%; cursor: pointer;">
                        <div [ngSwitch]="workPlanProject">
                          <div *ngSwitchCase="'upload'">
                            <span mat-line class="badge badge-pill badge-success">CARGADO</span>
                          </div>
                          <div *ngSwitchCase="'send'">
                            <span mat-line class="badge badge-pill badge-info">EVALUACIÓN</span>
                          </div>
                          <div *ngSwitchCase="'reevaluate'">
                            <span mat-line class="badge badge-pill badge-warn">REEVALUACIÓN</span>
                          </div>
                          <div *ngSwitchCase="'approved'">
                            <span mat-line class="badge badge-pill badge-success">APROBADO</span>
                          </div>
                          <div *ngSwitchDefault>
                            <span mat-line class="badge badge-pill badge-warning">POR ENVIAR</span>
                          </div>
                        </div>
                      </label>
                      <p *ngIf="['reevaluate', 'upload'].includes(workPlanProject)" style="font-size: 0.6em;">Para editar el documento, vuelva a seleccionar otro documento</p>
                      <div class="text-center"  *ngIf="workPlanProject === 'reevaluate'">
                        <button mat-icon-button matSuffix
                                matTooltipClass="bg-danger"
                                [matTooltip]="filesStatus['workPlanProject'].message"
                                matTooltipPosition="above"
                                [attr.aria-label]="'show information'"
                                style="margin-left: auto;"
                                type="button">
                          <mat-icon class="text-danger">info</mat-icon>
                        </button>
                      </div>
                      <input type="file" id="workProject" (change)="onFileChange($event)"
                             hidden="hidden" accept="application/pdf" [disabled]="disabledUploadFile('workPlanProject')">
                    </mat-card-content>
                  </mat-card>
                </div>
                <div class="col-3">
                  <mat-card class="my-2 solicitude-document">
                    <mat-card-content class="d-flex flex-column justify-content-center align-items-center">
                      <h6 class="text-center">Carta <br>compromiso</h6>
                      <label for="commitment" style="cursor: pointer; flex: 1 2;" class="d-flex flex-column align-items-center justify-content-center">
                        <img src="../../../../assets/icons/pdfReport.svg" style="width: 40%; cursor: pointer;">
                        <div [ngSwitch]="commitment">
                          <div *ngSwitchCase="'upload'">
                            <span mat-line class="badge badge-pill badge-success">CARGADO</span>
                          </div>
                          <div *ngSwitchCase="'send'">
                            <span mat-line class="badge badge-pill badge-info">EVALUACIÓN</span>
                          </div>
                          <div *ngSwitchCase="'reevaluate'">
                            <span mat-line class="badge badge-pill badge-warn">REEVALUACIÓN</span>
                          </div>
                          <div *ngSwitchCase="'approved'">
                            <span mat-line class="badge badge-pill badge-success">APROBADO</span>
                          </div>
                          <div *ngSwitchDefault>
                            <span mat-line class="badge badge-pill badge-warning">POR ENVIAR</span>
                          </div>
                        </div>
                      </label>
                      <p *ngIf="['reevaluate', 'upload'].includes(commitment)" style="font-size: 0.6em;">Para editar el documento, vuelva a seleccionar otro documento</p>
                      <div class="text-center"  *ngIf="commitment === 'reevaluate'">
                        <button mat-icon-button matSuffix
                                matTooltipClass="bg-danger"
                                [matTooltip]="filesStatus['commitment'].message"
                                matTooltipPosition="above"
                                [attr.aria-label]="'show information'"
                                style="margin-left: auto;"
                                type="button">
                          <mat-icon class="text-danger">info</mat-icon>
                        </button>
                      </div>
                      <input type="button" id="commitment" (click)="generateCommitment()"
                             hidden="hidden" accept="application/pdf" [disabled]="disabledUploadFile('commitment')">
                    </mat-card-content>
                  </mat-card>
                </div>
              </div>
              <div class="text-center">
                <button mat-raised-button color="primary" class="w-50" (click)="uploadFiles()" [disabled]="validateUploadFiles()">Subir documentos</button>
              </div>
            </div>

            <div *ngIf="validateSolicitudePhase() === 'send'">
              <div class="row justify-content-center">
                <div class="col-10 col-sm-8 col-md-6 col-lg-4">
                  <mat-card style="height: 225px; width: 300px;">
                    <mat-card-header class="flex-column align-items-center">
                      <img alt="File" src="../../../../assets/imgs/reloj.png" style="width: 80px; height: 80px;">
                      <h5 class="text-center mt-3">Sus documentos de solicitud de servicio social estan en <strong>revisión</strong></h5>
                    </mat-card-header>
                  </mat-card>
                </div>
              </div>
            </div>

            <div *ngIf="validateSolicitudePhase() === 'approved'">
              <div class="row justify-content-center">
                <div class="col-10 col-sm-8 col-md-6 col-lg-4">
                  <mat-card style="height: 225px; width: 300px;">
                    <mat-card-header class="flex-column align-items-center">
                      <img alt="File" src="../../../../assets/imgs/approved.png" style="width: 80px; height: 80px;">
                      <h5 class="text-center mt-3">Sus documentos de solicitud de servicio social han sido <span class="text-success">aceptados</span></h5>
                    </mat-card-header>
                  </mat-card>
                </div>
              </div>
              <div class="col-12 mt-4" style="text-align: center;">
                <button mat-raised-button matStepperNext color="primary" style="width: 15%;">Continuar</button>
              </div>
            </div>
          </div>
        </mat-step>



        <mat-step [completed]="true">
          <ng-template matStepLabel>Reportes</ng-template>
          <div class="row">
            <mat-icon class="text-info">info</mat-icon>
            <h6>Revisa tus documentos hasta que sean validados</h6>
          </div>


          <div *ngIf="validateSolicitudePhase() === 'approved' "><!--reportes bimestrales-->
            <div class="text-center margen">
              <div class="flex justify-content-around">

                <mat-icon matTooltip="Cambiar la numeración al reporte correspondiente" class="text-info">info</mat-icon>

                <button mat-raised-button type="button" class="mt-2 buttonMargin">
                  <a class="noDecorado" href="http://www.tepic.tecnm.mx/sgc2/files/Procesos_Centrales/Servicio_Social/Registros%20SS/ITT-POC-08-06%20REPORTE%20BIMESTRAL%20DE%20SERVICIO%20SOCIAL.docx">
                    Formato de Reporte Bimestral
                  </a>
                  <mat-icon matPrefix class="text-info">cloud_download</mat-icon>
                </button>

                <button mat-raised-button type="button" class="mt-2 buttonMargin">
                  <a class="noDecorado" href="http://www.tepic.tecnm.mx/sgc2/files/Procesos_Centrales/Servicio_Social/Registros%20SS/ITT-POC-08-09%20EVALUACI%C3%93N%20RESPONSABLE%20DEL%20PROGRAMA.docx">
                    Formato de Evaluación Responsable del Programa
                  </a>
                  <mat-icon matPrefix class="text-info">cloud_download</mat-icon>
                </button>

                <button mat-raised-button type="button" class="mt-2 buttonMargin">
                  <a class="noDecorado" href="http://www.tepic.tecnm.mx/sgc2/files/Procesos_Centrales/Servicio_Social/Registros%20SS/ITT-POC-08-11%20AUTOEVALUACI%C3%93N%20DEL%20ALUMNO.docx">
                    Formato de Autoevaluación
                  </a>
                  <mat-icon matPrefix class="text-info">cloud_download</mat-icon>
                </button>

              </div>
            </div>
            <!-- -->
            <div *ngFor="let report of reports">
              <div class="row margen d-flex justify-content-center">

                <div class="col-3" >

                  <mat-card class="my-2 solicitude-document">
                    <mat-card-content class="d-flex flex-column justify-content-center align-items-center">
                      <h6 class="text-center">Reporte Bimestral No. {{report.position}}</h6>
                      <label for=report{{report.position}} style="cursor: pointer; flex: 1 2;" class="d-flex flex-column align-items-center justify-content-center">
                        <img src="../../../../assets/icons/pdfReport.svg" style="width: 40%; cursor: pointer;">
                          <div [ngSwitch]="reports[report.position -1].status">
                            <div *ngSwitchCase="'upload'">
                              <span mat-line class="badge badge-pill badge-success">CARGADO</span>
                            </div>
                            <div *ngSwitchCase="'send'">
                              <span mat-line class="badge badge-pill badge-info">EVALUACIÓN</span>
                            </div>
                            <div *ngSwitchCase="'reevaluate'">
                              <span mat-line class="badge badge-pill badge-warn">REEVALUACIÓN</span>
                            </div>
                            <div *ngSwitchCase="'approved'">
                              <span mat-line class="badge badge-pill badge-success">APROBADO</span>
                            </div>
                            <div *ngSwitchCase="'register'">
                              <div *ngIf="!disabledUploadReport(report.position, report.status)">
                                <span mat-line class="badge badge-pill badge-warning">POR ENVIAR</span>
                              </div>
                              <div *ngIf="disabledUploadReport(report.position, report.status)">
                                <span mat-line class="badge badge-pill badge-secondary">NO DISPONIBLE</span>
                              </div>
                            </div>
                          </div>
                      </label>
                      <p *ngIf="['reevaluate', 'upload'].includes(reports[report.position -1].status)" style="font-size: 0.6em;">Para editar el documento, vuelva a seleccionar otro documento</p>
                        <div class="text-center"  *ngIf="reports[report.position -1].status === 'reevaluate'">
                          <button mat-icon-button matSuffix
                                  matTooltipClass="bg-danger"
                                  [matTooltip]="filesStatus.reports[report.position - 1].message"
                                  matTooltipPosition="above"
                                  [attr.aria-label]="'show information'"
                                  style="margin-left: auto;"
                                  type="button">
                            <mat-icon class="text-danger">info</mat-icon>
                          </button>
                        </div>
                        <input type="file" id=report{{report.position}} (change)="uploadReport($event)"
                              hidden="hidden" accept="application/pdf" [disabled]="disabledUploadReport(report.position, report.status)">
                    </mat-card-content>
                  </mat-card>

                </div>

                <div class="col-3" >

                  <mat-card class="my-2 solicitude-document">
                    <mat-card-content class="d-flex flex-column justify-content-center align-items-center">
                      <h6 class="text-center">Carta de Evaluación No. {{report.position}}</h6>
                      <label for=managerEvaluations{{report.position}} style="cursor: pointer; flex: 1 2;" class="d-flex flex-column align-items-center justify-content-center">
                        <img src="../../../../assets/icons/pdfReport.svg" style="width: 40%; cursor: pointer;">
                          <div [ngSwitch]="managerEvaluations[report.position -1].status">
                            <div *ngSwitchCase="'upload'">
                              <span mat-line class="badge badge-pill badge-success">CARGADO</span>
                            </div>
                            <div *ngSwitchCase="'send'">
                              <span mat-line class="badge badge-pill badge-info">EVALUACIÓN</span>
                            </div>
                            <div *ngSwitchCase="'reevaluate'">
                              <span mat-line class="badge badge-pill badge-warn">REEVALUACIÓN</span>
                            </div>
                            <div *ngSwitchCase="'approved'">
                              <span mat-line class="badge badge-pill badge-success">APROBADO</span>
                            </div>
                            <div *ngSwitchCase="'register'">
                              <div *ngIf="!disabledUploadReport(report.position, report.status)">
                                <span mat-line class="badge badge-pill badge-warning">POR ENVIAR</span>
                              </div>
                              <div *ngIf="disabledUploadReport(report.position, report.status)">
                                <span mat-line class="badge badge-pill badge-secondary">NO DISPONIBLE</span>
                              </div>
                            </div>
                          </div>
                      </label>
                      <p *ngIf="['reevaluate', 'upload'].includes(managerEvaluations[report.position -1].status)" style="font-size: 0.6em;">Para editar el documento, vuelva a seleccionar otro documento</p>
                        <div class="text-center"  *ngIf="managerEvaluations[report.position -1].status === 'reevaluate'">
                          <button mat-icon-button matSuffix
                                  matTooltipClass="bg-danger"
                                  [matTooltip]="filesStatus.managerEvaluations[report.position - 1].message"
                                  matTooltipPosition="above"
                                  [attr.aria-label]="'show information'"
                                  style="margin-left: auto;"
                                  type="button">
                            <mat-icon class="text-danger">info</mat-icon>
                          </button>
                        </div>
                        <input type="file" id=managerEvaluations{{report.position}} (change)="uploadReport($event)"
                              hidden="hidden" accept="application/pdf" [disabled]="disabledUploadReport(report.position, managerEvaluations[report.position -1].status)">
                    </mat-card-content>
                  </mat-card>

                </div>

                <div class="col-3" >

                  <mat-card class="my-2 solicitude-document">
                    <mat-card-content class="d-flex flex-column justify-content-center align-items-center">
                      <h6 class="text-center">Carta de Autoevaluación No. {{report.position}}</h6>
                      <label for=selfEvaluations{{report.position}} style="cursor: pointer; flex: 1 2;" class="d-flex flex-column align-items-center justify-content-center">
                        <img src="../../../../assets/icons/pdfReport.svg" style="width: 40%; cursor: pointer;">
                          <div [ngSwitch]="selfEvaluations[report.position -1].status">
                            <div *ngSwitchCase="'upload'">
                              <span mat-line class="badge badge-pill badge-success">CARGADO</span>
                            </div>
                            <div *ngSwitchCase="'send'">
                              <span mat-line class="badge badge-pill badge-info">EVALUACIÓN</span>
                            </div>
                            <div *ngSwitchCase="'reevaluate'">
                              <span mat-line class="badge badge-pill badge-warn">REEVALUACIÓN</span>
                            </div>
                            <div *ngSwitchCase="'approved'">
                              <span mat-line class="badge badge-pill badge-success">APROBADO</span>
                            </div>
                            <div *ngSwitchCase="'register'">
                              <div *ngIf="!disabledUploadReport(report.position, report.status)">
                                <span mat-line class="badge badge-pill badge-warning">POR ENVIAR</span>
                              </div>
                              <div *ngIf="disabledUploadReport(report.position, report.status)">
                                <span mat-line class="badge badge-pill badge-secondary">NO DISPONIBLE</span>
                              </div>
                            </div>
                          </div>
                      </label>
                      <p *ngIf="['reevaluate', 'upload'].includes(selfEvaluations[report.position -1].status)" style="font-size: 0.6em;">Para editar el documento, vuelva a seleccionar otro documento</p>
                        <div class="text-center"  *ngIf="selfEvaluations[report.position -1].status === 'reevaluate'">
                          <button mat-icon-button matSuffix
                                  matTooltipClass="bg-danger"
                                  [matTooltip]="filesStatus.selfEvaluations[report.position - 1].message"
                                  matTooltipPosition="above"
                                  [attr.aria-label]="'show information'"
                                  style="margin-left: auto;"
                                  type="button">
                            <mat-icon class="text-danger">info</mat-icon>
                          </button>
                        </div>
                        <input type="file" id=selfEvaluations{{report.position}} (change)="uploadReport($event)"
                              hidden="hidden" accept="application/pdf" [disabled]="disabledUploadReport(report.position, selfEvaluations[report.position -1].status)">
                    </mat-card-content>
                  </mat-card>

                </div>

              </div>
            </div>


            <div class="text-center">
              <button mat-raised-button color="primary" class="w-50" (click)="uploadReportFile()" [disabled]="validateUploadReport()">Subir Documentos</button>
            </div>
          </div><!--reportes bimestrales-->



          <div *ngIf="true"><!--reporte final y carta de evaluacion del reporte final-->
            <div class="text-center margen">
              <div class="flex justify-content-around">

                <button mat-raised-button type="button" class="mt-2 buttonMargin">
                  <a class="noDecorado" href="http://">
                    Formato de Reporte Final
                  </a>
                  <mat-icon matPrefix class="text-info">cloud_download</mat-icon>
                </button>

                <button mat-raised-button type="button" class="mt-2 buttonMargin">
                  <a class="noDecorado" href="http://">
                    Formato de Carta de Evaluación de Reporte Final
                  </a>
                  <mat-icon matPrefix class="text-info">cloud_download</mat-icon>
                </button>

                <div class="row margen d-flex justify-content-center">
                  <div class="col-3">
                    <mat-card class="my-2 solicitude-document">
                      <mat-card-content class="d-flex flex-column justify-content-center align-items-center">
                        <h6 class="text-center">Reporte Final</h6>
                        <label for="lastReport" style="cursor: pointer; flex: 1 2;" class="d-flex flex-column align-items-center justify-content-center">
                          <img src="../../../../assets/icons/pdfReport.svg" style="width: 40%; cursor: pointer;">
                          <div [ngSwitch]="lastReport">
                            <div *ngSwitchCase="'upload'">
                              <span mat-line class="badge badge-pill badge-success">CARGADO</span>
                            </div>
                            <div *ngSwitchCase="'send'">
                              <span mat-line class="badge badge-pill badge-info">EVALUACIÓN</span>
                            </div>
                            <div *ngSwitchCase="'reevaluate'">
                              <span mat-line class="badge badge-pill badge-warn">REEVALUACIÓN</span>
                            </div>
                            <div *ngSwitchCase="'approved'">
                              <span mat-line class="badge badge-pill badge-success">APROBADO</span>
                            </div>
                            <div *ngSwitchDefault>
                              <span mat-line class="badge badge-pill badge-warning">POR ENVIAR</span>
                            </div>
                          </div>
                        </label>
                        <p *ngIf="['reevaluate', 'upload'].includes(lastReport)" style="font-size: 0.6em;">Para editar el documento, vuelva a seleccionar otro documento</p>
                        <div class="text-center"  *ngIf="lastReport === 'reevaluate'">
                          <button mat-icon-button matSuffix
                                  matTooltipClass="bg-danger"
                                  [matTooltip]="filesStatus['lastReport'].message"
                                  matTooltipPosition="above"
                                  [attr.aria-label]="'show information'"
                                  style="margin-left: auto;"
                                  type="button">
                            <mat-icon class="text-danger">info</mat-icon>
                          </button>
                        </div>
                        <input type="file" id="lastReport" (change)="onFinalFileChange($event)"
                               hidden="hidden" accept="application/pdf" [disabled]="disabledUploadFinalFile('lastReport')">
                      </mat-card-content>
                    </mat-card>
                  </div>

                  <div class="col-3">
                    <mat-card class="my-2 solicitude-document">
                      <mat-card-content class="d-flex flex-column justify-content-center align-items-center">
                        <h6 class="text-center">Carta de Evaluación del Reporte Final</h6>
                        <label for="lastReportEvaluation" style="cursor: pointer; flex: 1 2;" class="d-flex flex-column align-items-center justify-content-center">
                          <img src="../../../../assets/icons/pdfReport.svg" style="width: 40%; cursor: pointer;">
                          <div [ngSwitch]="lastReportEvaluation">
                            <div *ngSwitchCase="'upload'">
                              <span mat-line class="badge badge-pill badge-success">CARGADO</span>
                            </div>
                            <div *ngSwitchCase="'send'">
                              <span mat-line class="badge badge-pill badge-info">EVALUACIÓN</span>
                            </div>
                            <div *ngSwitchCase="'reevaluate'">
                              <span mat-line class="badge badge-pill badge-warn">REEVALUACIÓN</span>
                            </div>
                            <div *ngSwitchCase="'approved'">
                              <span mat-line class="badge badge-pill badge-success">APROBADO</span>
                            </div>
                            <div *ngSwitchDefault>
                              <span mat-line class="badge badge-pill badge-warning">POR ENVIAR</span>
                            </div>
                          </div>
                        </label>
                        <p *ngIf="['reevaluate', 'upload'].includes(lastReportEvaluation)" style="font-size: 0.6em;">Para editar el documento, vuelva a seleccionar otro documento</p>
                        <div class="text-center"  *ngIf="lastReportEvaluation === 'reevaluate'">
                          <button mat-icon-button matSuffix
                                  matTooltipClass="bg-danger"
                                  [matTooltip]="filesStatus['lastReportEvaluation'].message"
                                  matTooltipPosition="above"
                                  [attr.aria-label]="'show information'"
                                  style="margin-left: auto;"
                                  type="button">
                            <mat-icon class="text-danger">info</mat-icon>
                          </button>
                        </div>
                        <input type="file" id="lastReportEvaluation" (change)="onFinalFileChange($event)"
                               hidden="hidden" accept="application/pdf" [disabled]="disabledUploadFinalFile('lastReportEvaluation')">
                      </mat-card-content>
                    </mat-card>
                  </div>

                  <div class="col-3">
                    <mat-card class="my-2 solicitude-document">
                      <mat-card-content class="d-flex flex-column justify-content-center align-items-center">              
                        <h6 class="text-center">Carta de Liberación de la dependencia</h6>
                        <label for="dependencyRelease" style="cursor: pointer; flex: 1 2;" class="d-flex flex-column align-items-center justify-content-center">
                          <img src="../../../../assets/icons/pdfReport.svg" style="width: 40%; cursor: pointer;">
                          <div [ngSwitch]="dependencyRelease">
                            <div *ngSwitchCase="'upload'">
                              <span mat-line class="badge badge-pill badge-success">CARGADO</span>
                            </div>
                            <div *ngSwitchCase="'send'">
                              <span mat-line class="badge badge-pill badge-info">EVALUACIÓN</span>
                            </div>
                            <div *ngSwitchCase="'reevaluate'">
                              <span mat-line class="badge badge-pill badge-warn">REEVALUACIÓN</span>
                            </div>
                            <div *ngSwitchCase="'approved'">
                              <span mat-line class="badge badge-pill badge-success">APROBADO</span>
                            </div>
                            <div *ngSwitchDefault>
                              <span mat-line class="badge badge-pill badge-warning">POR ENVIAR</span>
                            </div>
                          </div>
                        </label>
                        <p *ngIf="['reevaluate', 'upload'].includes(dependencyRelease)" style="font-size: 0.6em;">Para editar el documento, vuelva a seleccionar otro documento</p>
                        <div class="text-center"  *ngIf="dependencyRelease === 'reevaluate'">
                          <button mat-icon-button matSuffix
                                  matTooltipClass="bg-danger"
                                  [matTooltip]="filesStatus['dependencyRelease'].message"
                                  matTooltipPosition="above"
                                  [attr.aria-label]="'show information'"
                                  style="margin-left: auto;"
                                  type="button">
                            <mat-icon class="text-danger">info</mat-icon>
                          </button>
                        </div>
                        <input type="file" id="dependencyRelease" (change)="onFinalFileChange($event)"
                               hidden="hidden" accept="application/pdf" [disabled]="disabledUploadFinalFile('dependencyRelease')">
                      </mat-card-content>
                    </mat-card>
                  </div>

                </div>


                <div class="text-center margen">
                  <button mat-raised-button color="primary" class="w-50" (click)="uploadFinalDocumentation()" [disabled]="validateUploadFinalFiles()">Subir Reporte</button>
                </div>

              </div>
            </div>
          </div><!--reporte final y carta de evaluacion del reporte final-->

        </mat-step>
        <mat-step [completed]="true">
          <ng-template matStepLabel>Proceso de Validación</ng-template>
          <div *ngIf="true">
            <div class="row justify-content-center margen">
              <div class="col-10 col-sm-8 col-md-6 col-lg-4">
                <mat-card style="height: 200px; width: 300px;">
                  <mat-card-header class="flex-column align-items-center">
                    <img alt="File" src="../../../../assets/imgs/reloj.png" style="width: 80px; height: 80px;">
                    <h5 class="text-center mt-3">Su <strong>carta de liberación</strong> está en proceso</h5>
                  </mat-card-header>
                </mat-card>
              </div>
            </div>
          </div>

        </mat-step>
      </mat-vertical-stepper>
    </div>
  </div>
</div>

<div *ngIf="releaseSocialService" class="d-flex justify-content-center">
  <mat-card class="w-75 m-2">
    <mat-card-content class="d-flex flex-column align-items-center justify-content-center">
      <img alt="File" src="../../../../assets/imgs/approved.png" style="width: 100px; height: 100px;">
      <h5 class="text-center mt-3">Ya has liberado tu servicio social</h5>
      <div class="w-50 mt-3">
        <div class="w-100 mx-auto">
          <div class="row">
            <div class="flex justify-content-around">
              <button mat-raised-button type="button" class="mt-2 buttonMargin">
                  Carta de liberación
                <mat-icon matPrefix class="text-info">cloud_download</mat-icon>
              </button>
              <button mat-raised-button type="button" class="mt-2 buttonMargin" routerLink="/social-service/recordStudent" [queryParams]="{id: controlStudentId}">
                  Expediente
                <mat-icon matPrefix class="text-info">folder_shared</mat-icon>
              </button>
            </div>
          </div>
        </div>
      </div>
    </mat-card-content>
  </mat-card>
</div>
